<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Caps Scenario Builder: Main.legend.LegendItem Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="CAPS_icon.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Caps Scenario Builder
   &#160;<span id="projectnumber">0.9</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_main.html">Main</a>      </li>
      <li class="navelem"><a class="el" href="namespace_main_1_1legend.html">legend</a>      </li>
      <li class="navelem"><a class="el" href="class_main_1_1legend_1_1_legend_item.html">LegendItem</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Main.legend.LegendItem Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Main::legend::LegendItem" -->
<p><a href="class_main_1_1legend_1_1_legend_item-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#af8ec6c7448bd3a7e9fca3656477fbcad">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#aec728da2e4b2e77934c1823a99f5e593">nextSibling</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a79f538e648197a1271910ac7984a9621">storeAppearanceSettings</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#aa1fc5d85a228abfeb79121db98a358e4">restoreAppearanceSettings</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a80d086a9d101fffd6f7607cd03868899">vectorLayerSymbology</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#acfad97bf904db19f4a7ae20105efcce3">changeSymbologySettings</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814">setRendererV2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">addLayerToColoredLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a1ae5f6861b6ecd6ff5c289f4e5d395c7">setPointsRuleRendererV2</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a3651742aefc3cf965bf985bf3de6760b">setLineColorAndWidth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#aedcba3245b505c4b13d3fea4d5d4640c">setPolygonColor</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a035a771763f9519c2d08eae0872b7525">setBaseTownsProperties</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a73664bdea08a43fac8a164316ef3af5b">canvasLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">layerName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a4ca7d85a5a8f660add2f900b5da86f02">isVect</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a3fe53b1c7e30de041ee6f4bc16f3ab21">layerId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a6ca3079b7b4db46f6173644a7caec269">openingScenario</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a71d3f69782ac53ebf8417ffc34c4c45b">child</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#abf339d579ad42496631d0bb0a4b760a3">__itemIsExpanded</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><div class="fragment"><pre class="fragment">Provide a widget to show and manage the properties of one single layer </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00048">48</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af8ec6c7448bd3a7e9fca3656477fbcad"></a><!-- doxytag: member="Main::legend::LegendItem::__init__" ref="af8ec6c7448bd3a7e9fca3656477fbcad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#af8ec6c7448bd3a7e9fca3656477fbcad">Main.legend.LegendItem.__init__</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>canvasLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00050">50</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00050"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a6ca3079b7b4db46f6173644a7caec269">00050</a> 
<a name="l00051"></a>00051     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#af8ec6c7448bd3a7e9fca3656477fbcad">__init__</a>(self, parent, canvasLayer):
<a name="l00052"></a>00052         QtGui.QTreeWidgetItem.__init__(self)
<a name="l00053"></a>00053         
<a name="l00054"></a>00054         <span class="comment"># debugging</span>
<a name="l00055"></a>00055         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem() class&quot;</span>
<a name="l00056"></a>00056         <span class="keywordflow">print</span> <span class="stringliteral">&#39;Main.legend: The system path is&#39;</span>, sys.path
<a name="l00057"></a>00057         
<a name="l00058"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a71d3f69782ac53ebf8417ffc34c4c45b">00058</a>         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a> = parent
<a name="l00059"></a>00059         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a73664bdea08a43fac8a164316ef3af5b">canvasLayer</a> = canvasLayer
<a name="l00060"></a>00060         
<a name="l00061"></a>00061         <span class="comment"># Convert QStrings to unicode unless they are used immediately in a Qt method. </span>
<a name="l00062"></a>00062         <span class="comment"># This ensures that we never ask Python to slice a QString, which produces a type error.</span>
<a name="l00063"></a>00063         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">layerName</a> = unicode(self.canvasLayer.layer().<a class="code" href="namespaceprepareforsetupexe.html#a43a37d0b3fcb153f6f84599e4bb38b50">name</a>())
<a name="l00064"></a>00064         self.canvasLayer.layer().setLayerName(self.legend.normalizeLayerName(self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">layerName</a>))
<a name="l00065"></a>00065         self.setText(0, self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">layerName</a>)
<a name="l00066"></a>00066         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a4ca7d85a5a8f660add2f900b5da86f02">isVect</a> = (self.canvasLayer.layer().type() == 0) <span class="comment"># 0: Vector, 1: Raster</span>
<a name="l00067"></a>00067         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a3fe53b1c7e30de041ee6f4bc16f3ab21">layerId</a> = self.canvasLayer.layer().id()
<a name="l00068"></a>00068         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a6ca3079b7b4db46f6173644a7caec269">openingScenario</a> = self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.mainwindow.openingScenario
<a name="l00069"></a>00069         
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <span class="stringliteral">&#39;&#39;&#39; </span>
<a name="l00072"></a>00072 <span class="stringliteral">            This class is instantiated by the legend.Legend() class immediately after a layer is registered by QGIS.</span>
<a name="l00073"></a>00073 <span class="stringliteral">            It creates a legend item that represents a map layer. Since this is very close to the first access we </span>
<a name="l00074"></a>00074 <span class="stringliteral">            have to newly added layers, we set scenarioDirty here. We set the rendererV2 properties here because</span>
<a name="l00075"></a>00075 <span class="stringliteral">            they only need to be set when a layer is loaded rather than every time a layer is changed (as in</span>
<a name="l00076"></a>00076 <span class="stringliteral">            Main.mainwindow.activeLayerChanged()).  This is also the first chance to set layer properties, </span>
<a name="l00077"></a>00077 <span class="stringliteral">            so we set visibility and color for all newly opened layers here.</span>
<a name="l00078"></a>00078 <span class="stringliteral">             </span>
<a name="l00079"></a>00079 <span class="stringliteral">        &#39;&#39;&#39;</span>
<a name="l00080"></a>00080         
<a name="l00081"></a>00081         <span class="comment"># Each time a layer is loaded (or removed) we set the scenarioDirty flag.</span>
<a name="l00082"></a>00082         <span class="comment"># There is no need to set it if the scenario is already dirty.  Once a scenario</span>
<a name="l00083"></a>00083         <span class="comment"># is dirty, the policy is it stays dirty until the user saves it.</span>
<a name="l00084"></a>00084         <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.mainwindow.scenarioDirty: self.legend.mainwindow.setScenarioDirty()
<a name="l00085"></a>00085         
<a name="l00086"></a>00086         <span class="comment"># This method sets the renderer colors, marker types and other properties for certain vector layers.</span>
<a name="l00087"></a>00087         <span class="comment"># Since the scenario&#39;s &#39;.cap&#39; file stores rendererV2 settings, we don&#39;t need to call the</span>
<a name="l00088"></a>00088         <span class="comment"># method when opening a scenario.</span>
<a name="l00089"></a>00089         <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a4ca7d85a5a8f660add2f900b5da86f02">isVect</a> <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a6ca3079b7b4db46f6173644a7caec269">openingScenario</a>:
<a name="l00090"></a>00090             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814">setRendererV2</a>(self.canvasLayer.layer())
<a name="l00091"></a>00091 
<a name="l00092"></a>00092         <span class="comment"># handle layer visibility when opening the app, &quot;New Scenario&quot; or &quot;Open Scenario.&quot;</span>
<a name="l00093"></a>00093         <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a6ca3079b7b4db46f6173644a7caec269">openingScenario</a> <span class="keywordflow">or</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.mainwindow.openingOrientingLayers:
<a name="l00094"></a>00094             <span class="comment"># Make any layer in config.orientingLayersChecked visible</span>
<a name="l00095"></a>00095             <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">layerName</a> <span class="keywordflow">in</span> config.orientingLayersChecked:
<a name="l00096"></a>00096                 self.setCheckState(0, QtCore.Qt.Checked)
<a name="l00097"></a>00097                 self.canvasLayer.setVisible(<span class="keyword">True</span>)
<a name="l00098"></a>00098             <span class="keywordflow">else</span>: <span class="comment"># all other layers loaded will be hidden</span>
<a name="l00099"></a>00099                 self.setCheckState(0, QtCore.Qt.Unchecked) 
<a name="l00100"></a>00100                 self.canvasLayer.setVisible(<span class="keyword">False</span>)
<a name="l00101"></a>00101         <span class="keywordflow">else</span>: <span class="comment"># User chose &quot;Add Vector Layer&quot; or &quot;Add Raster Layer&quot; to add a single layer, so make visible.</span>
<a name="l00102"></a>00102             self.setCheckState(0, QtCore.Qt.Checked)    
<a name="l00103"></a>00103             self.canvasLayer.setVisible(<span class="keyword">True</span>)
<a name="l00104"></a>00104 
<a name="l00105"></a>00105         <span class="comment"># Get colors when opening a saved scenario and save to the coloredLayers dictionary. </span>
<a name="l00106"></a>00106         <span class="comment"># We have to do this for all vector layers to know what layers are colored by the user</span>
<a name="l00107"></a>00107         <span class="comment"># so we don&#39;t set default colors for them. Note that if the user later changes feature color </span>
<a name="l00108"></a>00108         <span class="comment"># for a layer, it will be updated in the dictionary (see legend.Legend.layerSymbology())</span>
<a name="l00109"></a>00109         <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a4ca7d85a5a8f660add2f900b5da86f02">isVect</a> <span class="keywordflow">and</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a6ca3079b7b4db46f6173644a7caec269">openingScenario</a>:
<a name="l00110"></a>00110             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">addLayerToColoredLayers</a>()
<a name="l00111"></a>00111         
<a name="l00112"></a>00112         <span class="comment"># Now set colors for layers not colored in a scenario file or </span>
<a name="l00113"></a>00113         <span class="comment"># specifically colored by the user (i.e. not in the coloredLayers dictionary).</span>
<a name="l00114"></a>00114         <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a4ca7d85a5a8f660add2f900b5da86f02">isVect</a>:
<a name="l00115"></a>00115             <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.legend.mainwindow.coloredLayers.get(self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">layerName</a>):
<a name="l00116"></a>00116                 <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.currentColor == <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.currentColor == len(self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.mainwindow.defaultColors):
<a name="l00117"></a>00117                     self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.currentColor = 0 <span class="comment"># when we open the app or get to the end of the color list, we start again.</span>
<a name="l00118"></a>00118                 <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem() class self.legend.currentColor is &quot;</span> + str(self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.currentColor)
<a name="l00119"></a>00119                 defColor = self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.mainwindow.defaultColors[self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.currentColor]
<a name="l00120"></a>00120                 self.canvasLayer.layer().rendererV2().symbols()[0].setColor(defColor)
<a name="l00121"></a>00121                 self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.currentColor += 1
<a name="l00122"></a>00122         
<a name="l00123"></a>00123         <span class="comment"># debugging</span>
<a name="l00124"></a>00124         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem() class: The coloredLayers are: &quot;</span>
<a name="l00125"></a>00125         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.legend.mainwindow.coloredLayers.iteritems():
<a name="l00126"></a>00126             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, str(v.getRgb()))
<a name="l00127"></a>00127         
<a name="l00128"></a>00128         <span class="stringliteral">&#39;&#39;&#39; Now set icons etc. for legend item &#39;&#39;&#39;</span>
<a name="l00129"></a>00129         
<a name="l00130"></a>00130         pm = QtGui.QPixmap(20, 20)
<a name="l00131"></a>00131         icon = QtGui.QIcon()
<a name="l00132"></a>00132 
<a name="l00133"></a>00133         <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a4ca7d85a5a8f660add2f900b5da86f02">isVect</a>:
<a name="l00134"></a>00134             geom = self.canvasLayer.layer().geometryType() <span class="comment"># QGis Geometry</span>
<a name="l00135"></a>00135             <span class="keywordflow">if</span> geom == 0: <span class="comment"># Point</span>
<a name="l00136"></a>00136                 icon.addPixmap(QtGui.QPixmap(resources_prefix + <span class="stringliteral">&quot;mIconPointLayer.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.On)
<a name="l00137"></a>00137             <span class="keywordflow">elif</span> geom == 1: <span class="comment"># Line</span>
<a name="l00138"></a>00138                 icon.addPixmap(QtGui.QPixmap(resources_prefix + <span class="stringliteral">&quot;mIconLineLayer.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.On)
<a name="l00139"></a>00139             <span class="keywordflow">elif</span> geom == 2: <span class="comment"># Polygon</span>
<a name="l00140"></a>00140                 icon.addPixmap(QtGui.QPixmap(resources_prefix + <span class="stringliteral">&quot;mIconPolygonLayer.png&quot;</span>), QtGui.QIcon.Normal, QtGui.QIcon.On)
<a name="l00141"></a>00141             <span class="keywordflow">else</span>: <span class="keywordflow">print</span> <span class="stringliteral">&#39;Unknown geometry: &#39;</span> + unicode(geom)
<a name="l00142"></a>00142             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a80d086a9d101fffd6f7607cd03868899">vectorLayerSymbology</a>(self.canvasLayer.layer())
<a name="l00143"></a>00143         <span class="keywordflow">else</span>:
<a name="l00144"></a>00144             self.canvasLayer.layer().thumbnailAsPixmap(pm)
<a name="l00145"></a>00145             icon.addPixmap(pm)
<a name="l00146"></a>00146             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a71d3f69782ac53ebf8417ffc34c4c45b">child</a> = QtGui.QTreeWidgetItem(self)
<a name="l00147"></a>00147             iconChild = QtGui.QIcon()
<a name="l00148"></a>00148             iconChild.addPixmap(self.canvasLayer.layer().legendAsPixmap().scaled(15, 15, QtCore.Qt.KeepAspectRatio))
<a name="l00149"></a>00149             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a71d3f69782ac53ebf8417ffc34c4c45b">child</a>.setSizeHint (0, QtCore.QSize(15, 15))
<a name="l00150"></a>00150             self.child.setIcon(0, iconChild)
<a name="l00151"></a>00151 
<a name="l00152"></a>00152         self.setIcon(0, icon)
<a name="l00153"></a>00153 
<a name="l00154"></a>00154         self.setToolTip(0, self.canvasLayer.layer().publicSource())
<a name="l00155"></a>00155         layerFont = QtGui.QFont()
<a name="l00156"></a>00156         layerFont.setBold(<span class="keyword">True</span>)
<a name="l00157"></a>00157         self.setFont(0, layerFont)

</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2b588baf784d2a6ad86a6e02fb0f50f1"></a><!-- doxytag: member="Main::legend::LegendItem::addLayerToColoredLayers" ref="a2b588baf784d2a6ad86a6e02fb0f50f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">Main.legend.LegendItem.addLayerToColoredLayers</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00271">271</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00050">Main.legend.LegendItem.layerName</a>, and <a class="el" href="legend_8py_source.html#l00050">Main.legend.LegendItem.legend</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00451">Main.legend.LegendItem.setBaseTownsProperties()</a>, <a class="el" href="legend_8py_source.html#l00404">Main.legend.LegendItem.setLineColorAndWidth()</a>, <a class="el" href="legend_8py_source.html#l00278">Main.legend.LegendItem.setPointsRuleRendererV2()</a>, and <a class="el" href="legend_8py_source.html#l00430">Main.legend.LegendItem.setPolygonColor()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00271"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">00271</a> 
<a name="l00272"></a>00272     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">addLayerToColoredLayers</a>(self):
<a name="l00273"></a>00273         <span class="comment"># debugging</span>
<a name="l00274"></a>00274         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.addLayerToColoredLayers()&quot;</span>
<a name="l00275"></a>00275                        
<a name="l00276"></a>00276         color = self.canvasLayer.layer().rendererV2().symbols()[0].color()
<a name="l00277"></a>00277         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">legend</a>.mainwindow.coloredLayers[self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">layerName</a>] = color
        
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a2b588baf784d2a6ad86a6e02fb0f50f1_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a2b588baf784d2a6ad86a6e02fb0f50f1_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a2b588baf784d2a6ad86a6e02fb0f50f1_icgraph" id="class_main_1_1legend_1_1_legend_item_a2b588baf784d2a6ad86a6e02fb0f50f1_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#a035a771763f9519c2d08eae0872b7525" title="Main.legend.LegendItem.setBaseTownsProperties" alt="" coords="374,5,685,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend_item.html#a3651742aefc3cf965bf985bf3de6760b" title="Main.legend.LegendItem.setLineColorAndWidth" alt="" coords="381,56,677,83"/><area shape="rect" id="node10" href="class_main_1_1legend_1_1_legend_item.html#a1ae5f6861b6ecd6ff5c289f4e5d395c7" title="Main.legend.LegendItem.setPointsRuleRendererV2" alt="" coords="371,107,687,133"/><area shape="rect" id="node13" href="class_main_1_1legend_1_1_legend_item.html#aedcba3245b505c4b13d3fea4d5d4640c" title="Main.legend.LegendItem.setPolygonColor" alt="" coords="398,157,661,184"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814" title="Main.legend.LegendItem.setRendererV2" alt="" coords="736,81,989,108"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acfad97bf904db19f4a7ae20105efcce3"></a><!-- doxytag: member="Main::legend::LegendItem::changeSymbologySettings" ref="acfad97bf904db19f4a7ae20105efcce3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#acfad97bf904db19f4a7ae20105efcce3">Main.legend.LegendItem.changeSymbologySettings</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>theMapLayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Update the symbology settings on loading or changing layer color </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00182">182</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00058">Main.legend.LegendItem.child</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00170">Main.legend.LegendItem.vectorLayerSymbology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00182"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#acfad97bf904db19f4a7ae20105efcce3">00182</a> 
<a name="l00183"></a>00183     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#acfad97bf904db19f4a7ae20105efcce3">changeSymbologySettings</a>(self, theMapLayer, pixmap):
<a name="l00184"></a>00184         <span class="stringliteral">&#39;&#39;&#39; Update the symbology settings on loading or changing layer color &#39;&#39;&#39;</span>
<a name="l00185"></a>00185         <span class="keywordflow">if</span> <span class="keywordflow">not</span> theMapLayer: <span class="keywordflow">return</span>
<a name="l00186"></a>00186 
<a name="l00187"></a>00187         <span class="comment"># Remove previous symbology items</span>
<a name="l00188"></a>00188         self.takeChildren()
<a name="l00189"></a>00189         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a71d3f69782ac53ebf8417ffc34c4c45b">child</a> = QtGui.QTreeWidgetItem(self)
<a name="l00190"></a>00190         iconChild = QtGui.QIcon()
<a name="l00191"></a>00191         iconChild.addPixmap(pixmap)
<a name="l00192"></a>00192         self.child.setIcon(0, iconChild)
<a name="l00193"></a>00193 
<a name="l00194"></a>00194         childFont = QtGui.QFont()
<a name="l00195"></a>00195         childFont.setPointSize(9)
<a name="l00196"></a>00196         self.child.setFont(0, childFont)
        
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_acfad97bf904db19f4a7ae20105efcce3_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_acfad97bf904db19f4a7ae20105efcce3_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_acfad97bf904db19f4a7ae20105efcce3_icgraph" id="class_main_1_1legend_1_1_legend_item_acfad97bf904db19f4a7ae20105efcce3_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#a80d086a9d101fffd6f7607cd03868899" title="Main.legend.LegendItem.vectorLayerSymbology" alt="" coords="376,5,675,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aec728da2e4b2e77934c1823a99f5e593"></a><!-- doxytag: member="Main::legend::LegendItem::nextSibling" ref="aec728da2e4b2e77934c1823a99f5e593" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#aec728da2e4b2e77934c1823a99f5e593">Main.legend.LegendItem.nextSibling</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Return the next layer item </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00158">158</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00158"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aec728da2e4b2e77934c1823a99f5e593">00158</a> 
<a name="l00159"></a>00159     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aec728da2e4b2e77934c1823a99f5e593">nextSibling</a>(self):
<a name="l00160"></a>00160         <span class="stringliteral">&quot;&quot;&quot; Return the next layer item &quot;&quot;&quot;</span>
<a name="l00161"></a>00161         <span class="keywordflow">return</span> self.legend.nextSibling(self)

</pre></div>
</div>
</div>
<a class="anchor" id="aa1fc5d85a228abfeb79121db98a358e4"></a><!-- doxytag: member="Main::legend::LegendItem::restoreAppearanceSettings" ref="aa1fc5d85a228abfeb79121db98a358e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#aa1fc5d85a228abfeb79121db98a358e4">Main.legend.LegendItem.restoreAppearanceSettings</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Restore the appearance of the layer item </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00166">166</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00162">Main.legend.LegendItem.__itemIsExpanded</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00166"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aa1fc5d85a228abfeb79121db98a358e4">00166</a> 
<a name="l00167"></a>00167     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aa1fc5d85a228abfeb79121db98a358e4">restoreAppearanceSettings</a>(self):
<a name="l00168"></a>00168         <span class="stringliteral">&quot;&quot;&quot; Restore the appearance of the layer item &quot;&quot;&quot;</span>
<a name="l00169"></a>00169         self.setExpanded(self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#abf339d579ad42496631d0bb0a4b760a3">__itemIsExpanded</a>)

</pre></div>
</div>
</div>
<a class="anchor" id="a035a771763f9519c2d08eae0872b7525"></a><!-- doxytag: member="Main::legend::LegendItem::setBaseTownsProperties" ref="a035a771763f9519c2d08eae0872b7525" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#a035a771763f9519c2d08eae0872b7525">Main.legend.LegendItem.setBaseTownsProperties</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00451">451</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00271">Main.legend.LegendItem.addLayerToColoredLayers()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00197">Main.legend.LegendItem.setRendererV2()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00451"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a035a771763f9519c2d08eae0872b7525">00451</a> 
<a name="l00452"></a>00452     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a035a771763f9519c2d08eae0872b7525">setBaseTownsProperties</a>(self, vlayer):
<a name="l00453"></a>00453         <span class="comment"># debugging</span>
<a name="l00454"></a>00454         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setBaseTownsProperties()&quot;</span>
<a name="l00455"></a>00455         
<a name="l00456"></a>00456         <span class="comment"># Set the base_towns layer fill color to none</span>
<a name="l00457"></a>00457         rendererV2 = vlayer.rendererV2()
<a name="l00458"></a>00458         symbol = rendererV2.symbols()[0]
<a name="l00459"></a>00459         
<a name="l00460"></a>00460         symbolMap = {<span class="stringliteral">&quot;color&quot;</span>: <span class="stringliteral">&quot;255, 255, 255, 255&quot;</span>, <span class="stringliteral">&quot;style&quot;</span>: <span class="stringliteral">&quot;no&quot;</span>, 
<a name="l00461"></a>00461                           <span class="stringliteral">&quot;color_border&quot;</span>: <span class="stringliteral">&quot;DEFAULT_SIMPLEFILL_BORDERCOLOR&quot;</span>, 
<a name="l00462"></a>00462                           <span class="stringliteral">&quot;style_border&quot;</span>: <span class="stringliteral">&quot;DEFAULT_SIMPLEFILL_BORDERSTYLE&quot;</span>, 
<a name="l00463"></a>00463                           <span class="stringliteral">&quot;width_border&quot;</span>: <span class="stringliteral">&quot;0.3&quot;</span> }
<a name="l00464"></a>00464         
<a name="l00465"></a>00465         simpleSymbol = symbol.createSimple(symbolMap)
<a name="l00466"></a>00466         rendererV2.setSymbol(simpleSymbol)
<a name="l00467"></a>00467         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">addLayerToColoredLayers</a>()
<a name="l00468"></a>00468         vlayer.triggerRepaint()

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_cgraph" id="class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1" title="Main.legend.LegendItem.addLayerToColoredLayers" alt="" coords="365,5,683,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_icgraph" id="class_main_1_1legend_1_1_legend_item_a035a771763f9519c2d08eae0872b7525_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814" title="Main.legend.LegendItem.setRendererV2" alt="" coords="365,5,619,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3651742aefc3cf965bf985bf3de6760b"></a><!-- doxytag: member="Main::legend::LegendItem::setLineColorAndWidth" ref="a3651742aefc3cf965bf985bf3de6760b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#a3651742aefc3cf965bf985bf3de6760b">Main.legend.LegendItem.setLineColorAndWidth</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayerName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00404">404</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00271">Main.legend.LegendItem.addLayerToColoredLayers()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00197">Main.legend.LegendItem.setRendererV2()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00404"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a3651742aefc3cf965bf985bf3de6760b">00404</a> 
<a name="l00405"></a>00405     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a3651742aefc3cf965bf985bf3de6760b">setLineColorAndWidth</a>(self, vlayer, red, vlayerName):
<a name="l00406"></a>00406         <span class="comment"># debugging</span>
<a name="l00407"></a>00407         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setLineColorAndWidth()&quot;</span>
<a name="l00408"></a>00408         
<a name="l00409"></a>00409         <span class="comment"># this is a QgsLineSymbolLayerV2()</span>
<a name="l00410"></a>00410         symbolLayer = vlayer.rendererV2().symbols()[0].symbolLayer(0)
<a name="l00411"></a>00411         
<a name="l00412"></a>00412         <span class="comment"># This dictionary (coloredLayers) is set when a saved scenario is opened, when an editing layer is created </span>
<a name="l00413"></a>00413         <span class="comment"># (in dlgscenarioedittypes) or in Tools.shared.updateExtents() when reopening the editing layer after editing. </span>
<a name="l00414"></a>00414         <span class="comment"># If the user had set a color other than the default,we reset it here. </span>
<a name="l00415"></a>00415         retval = self.legend.mainwindow.coloredLayers.get(vlayerName)
<a name="l00416"></a>00416         <span class="keywordflow">if</span> retval <span class="keywordflow">and</span> retval != red: <span class="comment"># being opened by updateExtents or copyScenario and user set color</span>
<a name="l00417"></a>00417             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): THERE IS A LINE COLOR&quot;</span>
<a name="l00418"></a>00418             symbolLayer.setColor(retval)
<a name="l00419"></a>00419         <span class="comment"># being opened by updateExtents or copyScenario with some unknown QGIS color so we reset to red here</span>
<a name="l00420"></a>00420         <span class="keywordflow">elif</span> retval <span class="keywordflow">and</span> retval == red: 
<a name="l00421"></a>00421             symbolLayer.setColor(retval)
<a name="l00422"></a>00422         <span class="comment"># newly opened layer (not in coloredLayers) so default to red if the layer is being opened for the first time</span>
<a name="l00423"></a>00423         <span class="keywordflow">elif</span> <span class="keywordflow">not</span> retval:    
<a name="l00424"></a>00424             symbolLayer.setColor(red)
<a name="l00425"></a>00425             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">addLayerToColoredLayers</a>() 
<a name="l00426"></a>00426         <span class="keywordflow">else</span>: <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererVretvalThere is a &#39;retval&#39; error&quot;</span>
<a name="l00427"></a>00427         
<a name="l00428"></a>00428         symbolLayer.setWidth(0.4)
<a name="l00429"></a>00429         vlayer.triggerRepaint()
        
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_cgraph" id="class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1" title="Main.legend.LegendItem.addLayerToColoredLayers" alt="" coords="349,5,667,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_icgraph" id="class_main_1_1legend_1_1_legend_item_a3651742aefc3cf965bf985bf3de6760b_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814" title="Main.legend.LegendItem.setRendererV2" alt="" coords="349,5,603,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ae5f6861b6ecd6ff5c289f4e5d395c7"></a><!-- doxytag: member="Main::legend::LegendItem::setPointsRuleRendererV2" ref="a1ae5f6861b6ecd6ff5c289f4e5d395c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#a1ae5f6861b6ecd6ff5c289f4e5d395c7">Main.legend.LegendItem.setPointsRuleRendererV2</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayerName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00278">278</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00271">Main.legend.LegendItem.addLayerToColoredLayers()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00197">Main.legend.LegendItem.setRendererV2()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00278"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a1ae5f6861b6ecd6ff5c289f4e5d395c7">00278</a> 
<a name="l00279"></a>00279     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a1ae5f6861b6ecd6ff5c289f4e5d395c7">setPointsRuleRendererV2</a>(self, vlayer, red, vlayerName):
<a name="l00280"></a>00280         <span class="comment"># debugging</span>
<a name="l00281"></a>00281         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setPointsRuleRenderer()&quot;</span>
<a name="l00282"></a>00282         
<a name="l00283"></a>00283         <span class="stringliteral">&#39;&#39;&#39; Create the rule based renderer. &#39;&#39;&#39;</span>
<a name="l00284"></a>00284          
<a name="l00285"></a>00285         <span class="comment"># This returns a QgsSymbolV2(). In particular a QgsMarkerSymbolV2().</span>
<a name="l00286"></a>00286         <span class="comment"># This also returns a QgsMarkerSymbolLayerV2() layer. In particular a QgsSimpleMarkerSymbolLayerV2().</span>
<a name="l00287"></a>00287         symbol = QgsSymbolV2.defaultSymbol(QGis.Point)
<a name="l00288"></a>00288         <span class="comment"># renderer only needs a symbol to be instantiated</span>
<a name="l00289"></a>00289         rendererV2 = QgsRuleBasedRendererV2(symbol)
<a name="l00290"></a>00290         
<a name="l00291"></a>00291         <span class="comment"># get the symbols list and symbol (usually only one symbol)</span>
<a name="l00292"></a>00292         symbol = rendererV2.symbols()[0]
<a name="l00293"></a>00293         symbolLayer = symbol.symbolLayer(0)
<a name="l00294"></a>00294         symbolLayer.setSize(2.0)
<a name="l00295"></a>00295         symbolLayer.setColor(red)
<a name="l00296"></a>00296         
<a name="l00297"></a>00297         
<a name="l00298"></a>00298         <span class="stringliteral">&#39;&#39;&#39;</span>
<a name="l00299"></a>00299 <span class="stringliteral">            Now we set the rules for rendering different scenario edits, so that the user can</span>
<a name="l00300"></a>00300 <span class="stringliteral">            easily determine what features represent.</span>
<a name="l00301"></a>00301 <span class="stringliteral">            </span>
<a name="l00302"></a>00302 <span class="stringliteral">            Choices for symbols are: circle, rectangle, diamond, pentagon, cross, cross2, triangle, </span>
<a name="l00303"></a>00303 <span class="stringliteral">            equilateral_triangle, star, regular_star, arrow.</span>
<a name="l00304"></a>00304 <span class="stringliteral">            </span>
<a name="l00305"></a>00305 <span class="stringliteral">        &#39;&#39;&#39;</span>
<a name="l00306"></a>00306         
<a name="l00307"></a>00307         newSymbol = QgsSymbolV2.defaultSymbol(QGis.Point)
<a name="l00308"></a>00308         <span class="comment"># dams</span>
<a name="l00309"></a>00309         map1 = {<span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;rectangle&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>: <span class="stringliteral">&quot;255,0,0,255&quot;</span>, <span class="stringliteral">&quot;offset&quot;</span>: <span class="stringliteral">&quot;0,0&quot;</span>,
<a name="l00310"></a>00310                <span class="stringliteral">&quot;color_border&quot;</span>: <span class="stringliteral">&quot;0,0,0,255&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>: <span class="stringliteral">&quot;2.0&quot;</span>, <span class="stringliteral">&quot;angle&quot;</span>: <span class="stringliteral">&quot;DEFAULT_SIMPLEMARKER_ANGLE&quot;</span>} 
<a name="l00311"></a>00311         damSymbol = newSymbol.createSimple(map1)
<a name="l00312"></a>00312         damLayer = damSymbol.symbolLayer(0)
<a name="l00313"></a>00313         <span class="comment"># terrestrial crossing</span>
<a name="l00314"></a>00314         map2 = {<span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;pentagon&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>: <span class="stringliteral">&quot;255,0,0,255&quot;</span>, <span class="stringliteral">&quot;offset&quot;</span>: <span class="stringliteral">&quot;0,0&quot;</span>,
<a name="l00315"></a>00315                <span class="stringliteral">&quot;color_border&quot;</span>: <span class="stringliteral">&quot;0,0,0,255&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>: <span class="stringliteral">&quot;3.0&quot;</span>, <span class="stringliteral">&quot;angle&quot;</span>: <span class="stringliteral">&quot;DEFAULT_SIMPLEMARKER_ANGLE&quot;</span>} 
<a name="l00316"></a>00316         terrSymbol = newSymbol.createSimple(map2)
<a name="l00317"></a>00317         terrLayer = terrSymbol.symbolLayer(0)
<a name="l00318"></a>00318         <span class="comment"># tidal restriction</span>
<a name="l00319"></a>00319         map3 = {<span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;regular_star&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>: <span class="stringliteral">&quot;255,0,0,255&quot;</span>, <span class="stringliteral">&quot;offset&quot;</span>: <span class="stringliteral">&quot;0,0&quot;</span>,
<a name="l00320"></a>00320                <span class="stringliteral">&quot;color_border&quot;</span>: <span class="stringliteral">&quot;0,0,0,255&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>: <span class="stringliteral">&quot;4.0&quot;</span>, <span class="stringliteral">&quot;angle&quot;</span>: <span class="stringliteral">&quot;DEFAULT_SIMPLEMARKER_ANGLE&quot;</span>} 
<a name="l00321"></a>00321         tidalSymbol = newSymbol.createSimple(map3)
<a name="l00322"></a>00322         tidalLayer = tidalSymbol.symbolLayer(0)
<a name="l00323"></a>00323         <span class="comment"># create a new symbol layer for the delete symbol (i.e. a red cross)</span>
<a name="l00324"></a>00324         map4 = {<span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;cross&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>: <span class="stringliteral">&quot;255,0,0,255&quot;</span>, <span class="stringliteral">&quot;offset&quot;</span>: <span class="stringliteral">&quot;0,0&quot;</span>,
<a name="l00325"></a>00325                <span class="stringliteral">&quot;color_border&quot;</span>: <span class="stringliteral">&quot;255,0,0,255&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>: <span class="stringliteral">&quot;7.0&quot;</span>, <span class="stringliteral">&quot;angle&quot;</span>: <span class="stringliteral">&quot;45.0&quot;</span>}
<a name="l00326"></a>00326         deleteSymbol = newSymbol.createSimple(map4)
<a name="l00327"></a>00327         deleteLayer = deleteSymbol.symbolLayer(0)
<a name="l00328"></a>00328         <span class="comment"># create a new symbol layer for the altered symbol (i.e. a red triangle)</span>
<a name="l00329"></a>00329         map5 = {<span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;equilateral_triangle&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>: <span class="stringliteral">&quot;0,0,0,0&quot;</span>, <span class="stringliteral">&quot;offset&quot;</span>: <span class="stringliteral">&quot;0,0&quot;</span>,
<a name="l00330"></a>00330                <span class="stringliteral">&quot;color_border&quot;</span>: <span class="stringliteral">&quot;255,0,0,255&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>: <span class="stringliteral">&quot;7.0&quot;</span>, <span class="stringliteral">&quot;angle&quot;</span>: <span class="stringliteral">&quot;DEFAULT_SIMPLEMARKER_ANGLE&quot;</span>} 
<a name="l00331"></a>00331         alteredSymbol = newSymbol.createSimple(map5)
<a name="l00332"></a>00332         alteredLayer = alteredSymbol.symbolLayer(0)
<a name="l00333"></a>00333         
<a name="l00334"></a>00334         <span class="comment"># rule that makes dam symbol a rectangle</span>
<a name="l00335"></a>00335         rule1 = rendererV2.Rule(damSymbol, 0, 0, <span class="stringliteral">&quot;dam_id!=&#39;&#39;&quot;</span>)
<a name="l00336"></a>00336         rendererV2.addRule(rule1)
<a name="l00337"></a>00337         <span class="comment"># rule that makes terrestrial crossing structures a diamond</span>
<a name="l00338"></a>00338         rule2 = rendererV2.Rule(terrSymbol, 0, 0, <span class="stringliteral">&quot;wildlf_id!=&#39;&#39;&quot;</span>)
<a name="l00339"></a>00339         rendererV2.addRule(rule2)
<a name="l00340"></a>00340         <span class="comment"># rule that makes tidal restrictions a star</span>
<a name="l00341"></a>00341         rule3 = rendererV2.Rule(tidalSymbol, 0, 0, <span class="stringliteral">&quot;restr_id!=&#39;&#39;&quot;</span>)
<a name="l00342"></a>00342         rendererV2.addRule(rule3)
<a name="l00343"></a>00343         <span class="comment"># make the rule, using the delete symbol, and add it</span>
<a name="l00344"></a>00344         rule4 = rendererV2.Rule(deleteSymbol, 0, 0, 
<a name="l00345"></a>00345             <span class="stringliteral">&quot;c_deleted=&#39;y&#39; or d_deleted=&#39;y&#39; or w_deleted=&#39;y&#39; or r_deleted=&#39;y&#39;&quot;</span>)
<a name="l00346"></a>00346         rendererV2.addRule(rule4)
<a name="l00347"></a>00347         <span class="comment"># rule for altered symbol</span>
<a name="l00348"></a>00348         rule5 = rendererV2.Rule(alteredSymbol, 0, 0, 
<a name="l00349"></a>00349             <span class="stringliteral">&quot;c_altered = &#39;y&#39; or d_altered = &#39;y&#39; or w_altered = &#39;y&#39; or r_altered = &#39;y&#39;&quot;</span>)
<a name="l00350"></a>00350         rendererV2.addRule(rule5)
<a name="l00351"></a>00351         
<a name="l00352"></a>00352         <span class="comment"># associate the new renderer with the activeVLayer</span>
<a name="l00353"></a>00353         vlayer.setRendererV2(rendererV2)
<a name="l00354"></a>00354         
<a name="l00355"></a>00355         <span class="comment"># The coloredLayers dictionary is set when a saved scenario is opened, in Tools.shared.updateExtents() </span>
<a name="l00356"></a>00356         <span class="comment"># when reopening the editing layer after editing, in which case the rule renderer not set.  </span>
<a name="l00357"></a>00357         <span class="comment"># If the user had set a color other than the default color red, we reset it here. </span>
<a name="l00358"></a>00358         retval = self.legend.mainwindow.coloredLayers.get(vlayerName)
<a name="l00359"></a>00359         <span class="comment"># color set by user (either in scenario file or in this session) and being opened by updateExtents() or copyScenario</span>
<a name="l00360"></a>00360         <span class="keywordflow">if</span> retval <span class="keywordflow">and</span> retval != red: 
<a name="l00361"></a>00361             symbols = rendererV2.symbols()
<a name="l00362"></a>00362             <span class="keywordflow">print</span>  <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): There is a layer color&quot;</span> + str(retval.getRgb())
<a name="l00363"></a>00363             symbols[0].setColor(retval)
<a name="l00364"></a>00364             symbols[1].setColor(retval)
<a name="l00365"></a>00365             symbols[2].setColor(retval)
<a name="l00366"></a>00366             symbols[3].setColor(retval)
<a name="l00367"></a>00367         <span class="comment"># This is the case where updateExtents or copyScenario is opening editing layers that are in coloredLayers with default red </span>
<a name="l00368"></a>00368         <span class="comment"># color. The layer was opened with a some unknown QGIS color but we reset the layer&#39;s color to red above, so pass.</span>
<a name="l00369"></a>00369         <span class="keywordflow">elif</span> retval <span class="keywordflow">and</span> retval == red: <span class="comment"># for code clarity</span>
<a name="l00370"></a>00370             <span class="keywordflow">pass</span> <span class="comment"># color set above as default color</span>
<a name="l00371"></a>00371         <span class="comment"># layer newly created with default colors so add the layer to the coloredLayers dictionary</span>
<a name="l00372"></a>00372         <span class="keywordflow">elif</span> <span class="keywordflow">not</span> retval: self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">addLayerToColoredLayers</a>() 
<a name="l00373"></a>00373         <span class="keywordflow">else</span>: <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): There is a &#39;retval&#39; error&quot;</span>
<a name="l00374"></a>00374         
<a name="l00375"></a>00375         <span class="comment"># color the preview icon</span>
<a name="l00376"></a>00376         <span class="comment">#self.legend.currentItem().vectorLayerSymbology(vlayer)</span>
<a name="l00377"></a>00377         vlayer.triggerRepaint()
<a name="l00378"></a>00378         
<a name="l00379"></a>00379         <span class="comment"># debugging</span>
<a name="l00380"></a>00380         <span class="comment">#print &quot;The delete layers name is: &quot; + deleteLayer.name()</span>
<a name="l00381"></a>00381         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The number of symbols is: &quot;</span> + str(len(rendererV2.symbols()))
<a name="l00382"></a>00382         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The number of rules is: &quot;</span> + str(rendererV2.ruleCount())
<a name="l00383"></a>00383         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The symbolLayer properties are: &quot;</span>
<a name="l00384"></a>00384         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> symbolLayer.properties().iteritems():
<a name="l00385"></a>00385             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v)
<a name="l00386"></a>00386         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The damLayer properties are: &quot;</span>
<a name="l00387"></a>00387         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> damLayer.properties().iteritems():
<a name="l00388"></a>00388             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v) 
<a name="l00389"></a>00389         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The terrLayer properties are: &quot;</span>
<a name="l00390"></a>00390         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> terrLayer.properties().iteritems():
<a name="l00391"></a>00391             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v) 
<a name="l00392"></a>00392         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The tidalLayer properties are: &quot;</span>
<a name="l00393"></a>00393         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> tidalLayer.properties().iteritems():
<a name="l00394"></a>00394             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v) 
<a name="l00395"></a>00395         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The deleteLayer properties are: &quot;</span>
<a name="l00396"></a>00396         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> deleteLayer.properties().iteritems():
<a name="l00397"></a>00397             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v)
<a name="l00398"></a>00398         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The alteredLayer properties are: &quot;</span>
<a name="l00399"></a>00399         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> alteredLayer.properties().iteritems():
<a name="l00400"></a>00400             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v)
<a name="l00401"></a>00401         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The damLayer properties are: &quot;</span>
<a name="l00402"></a>00402         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> damLayer.properties().iteritems():
<a name="l00403"></a>00403             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v)
            
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_cgraph" id="class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1" title="Main.legend.LegendItem.addLayerToColoredLayers" alt="" coords="371,5,688,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_icgraph" id="class_main_1_1legend_1_1_legend_item_a1ae5f6861b6ecd6ff5c289f4e5d395c7_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814" title="Main.legend.LegendItem.setRendererV2" alt="" coords="371,5,624,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aedcba3245b505c4b13d3fea4d5d4640c"></a><!-- doxytag: member="Main::legend::LegendItem::setPolygonColor" ref="aedcba3245b505c4b13d3fea4d5d4640c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#aedcba3245b505c4b13d3fea4d5d4640c">Main.legend.LegendItem.setPolygonColor</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayerName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00430">430</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00271">Main.legend.LegendItem.addLayerToColoredLayers()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00197">Main.legend.LegendItem.setRendererV2()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00430"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aedcba3245b505c4b13d3fea4d5d4640c">00430</a> 
<a name="l00431"></a>00431     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aedcba3245b505c4b13d3fea4d5d4640c">setPolygonColor</a>(self, vlayer, red, vlayerName):
<a name="l00432"></a>00432         <span class="comment"># debugging</span>
<a name="l00433"></a>00433         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setPolygonColor()&quot;</span> 
<a name="l00434"></a>00434         
<a name="l00435"></a>00435         <span class="comment"># This dictionary (coloredLayers) is set when a saved scenario is opened, when an editing layer is created </span>
<a name="l00436"></a>00436         <span class="comment"># (in dlgscenarioedittypes) or in Tools.shared.updateExtents() when reopening the editing layer after editing. </span>
<a name="l00437"></a>00437         <span class="comment"># If the user had set a color other than the default,we reset it here.</span>
<a name="l00438"></a>00438         symbolLayer = vlayer.rendererV2().symbols()[0].symbolLayer(0)
<a name="l00439"></a>00439         retval = self.legend.mainwindow.coloredLayers.get(vlayerName)
<a name="l00440"></a>00440         <span class="keywordflow">if</span> retval <span class="keywordflow">and</span> retval != red: <span class="comment"># being opened by updateExtents or copyScenario and user has set color</span>
<a name="l00441"></a>00441             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): THERE IS A POLYGON COLOR&quot;</span>
<a name="l00442"></a>00442             symbolLayer.setColor(retval)
<a name="l00443"></a>00443             <span class="keywordflow">return</span>
<a name="l00444"></a>00444         <span class="comment"># being opened by updateExtents or copyScenario with some unknown QGIS color so we reset to red here</span>
<a name="l00445"></a>00445         <span class="keywordflow">elif</span> retval <span class="keywordflow">and</span> retval == red: <span class="comment"># being opened by copyScenario</span>
<a name="l00446"></a>00446             symbolLayer.setColor(retval)
<a name="l00447"></a>00447         <span class="keywordflow">else</span>: <span class="comment"># if the layer being loaded into the scenario for the first time default to red</span>
<a name="l00448"></a>00448             symbolLayer.setColor(red)
<a name="l00449"></a>00449             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1">addLayerToColoredLayers</a>()
<a name="l00450"></a>00450         vlayer.triggerRepaint()
        
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_cgraph" id="class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1" title="Main.legend.LegendItem.addLayerToColoredLayers" alt="" coords="317,5,635,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_icgraph" id="class_main_1_1legend_1_1_legend_item_aedcba3245b505c4b13d3fea4d5d4640c_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814" title="Main.legend.LegendItem.setRendererV2" alt="" coords="317,5,571,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa5ecf2fb6a93ce524da76425134f4814"></a><!-- doxytag: member="Main::legend::LegendItem::setRendererV2" ref="aa5ecf2fb6a93ce524da76425134f4814" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814">Main.legend.LegendItem.setRendererV2</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00197">197</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00451">Main.legend.LegendItem.setBaseTownsProperties()</a>, <a class="el" href="legend_8py_source.html#l00404">Main.legend.LegendItem.setLineColorAndWidth()</a>, <a class="el" href="legend_8py_source.html#l00278">Main.legend.LegendItem.setPointsRuleRendererV2()</a>, and <a class="el" href="legend_8py_source.html#l00430">Main.legend.LegendItem.setPolygonColor()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00197"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814">00197</a> 
<a name="l00198"></a>00198     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#aa5ecf2fb6a93ce524da76425134f4814">setRendererV2</a>(self, vlayer):
<a name="l00199"></a>00199         <span class="comment"># debugging</span>
<a name="l00200"></a>00200         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2()&quot;</span>
<a name="l00201"></a>00201         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): vlayer geometry is :&quot;</span> + str(vlayer.geometryType())
<a name="l00202"></a>00202         
<a name="l00203"></a>00203         red = QtGui.QColor(255, 0, 0, 255)
<a name="l00204"></a>00204         vlayerName = unicode(vlayer.name())
<a name="l00205"></a>00205         <span class="keywordflow">if</span> vlayerName == config.editLayersBaseNames[0]: <span class="comment"># edit_scenario(points) layer</span>
<a name="l00206"></a>00206             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): Setting Rule Based Renderer for &#39;edit_scenario(points).shp&quot;</span>
<a name="l00207"></a>00207             
<a name="l00208"></a>00208             <span class="stringliteral">&#39;&#39;&#39; </span>
<a name="l00209"></a>00209 <span class="stringliteral">                We are opening &#39;edit_scenario(points)&#39; for the first time.  Either it has been reopened by</span>
<a name="l00210"></a>00210 <span class="stringliteral">                Tools.shared.updateExtents(), Main.mainwindow.copyScenario() or it has been newly written by</span>
<a name="l00211"></a>00211 <span class="stringliteral">                Main.mainwindow.dlgscenarioedittypes.</span>
<a name="l00212"></a>00212 <span class="stringliteral">                </span>
<a name="l00213"></a>00213 <span class="stringliteral">            &#39;&#39;&#39;</span>
<a name="l00214"></a>00214             
<a name="l00215"></a>00215             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a1ae5f6861b6ecd6ff5c289f4e5d395c7">setPointsRuleRendererV2</a>(vlayer, red, vlayerName) <span class="comment"># sets up the rule renderer for edit_scenario(points)</span>
<a name="l00216"></a>00216             
<a name="l00217"></a>00217         <span class="keywordflow">elif</span> vlayerName == config.editLayersBaseNames[1]: <span class="comment"># edit_scenario(lines).shp</span>
<a name="l00218"></a>00218             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): Setting color and line width for edit_scenario(lines).shp&quot;</span>
<a name="l00219"></a>00219             
<a name="l00220"></a>00220             <span class="stringliteral">&#39;&#39;&#39; </span>
<a name="l00221"></a>00221 <span class="stringliteral">                We are opening &#39;edit_scenario(lines)&#39; for the first time.  Either it has been reopened by</span>
<a name="l00222"></a>00222 <span class="stringliteral">                Tools.shared.updateExtents(), Main.mainwindow.copyScenario() or it has been newly written by</span>
<a name="l00223"></a>00223 <span class="stringliteral">                Main.mainwindow.dlgscenarioedittypes.</span>
<a name="l00224"></a>00224 <span class="stringliteral">                </span>
<a name="l00225"></a>00225 <span class="stringliteral">            &#39;&#39;&#39;</span>
<a name="l00226"></a>00226             
<a name="l00227"></a>00227             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a3651742aefc3cf965bf985bf3de6760b">setLineColorAndWidth</a>(vlayer, red, vlayerName) <span class="comment"># sets color and width for edit_scenario(lines)</span>
<a name="l00228"></a>00228              
<a name="l00229"></a>00229         <span class="keywordflow">elif</span> vlayerName == config.editLayersBaseNames[2]: <span class="comment"># edit_scenario(polygons).shp</span>
<a name="l00230"></a>00230             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): Setting color for edit_scenario(polygons).shp&quot;</span>
<a name="l00231"></a>00231         
<a name="l00232"></a>00232             <span class="stringliteral">&#39;&#39;&#39; </span>
<a name="l00233"></a>00233 <span class="stringliteral">                We are opening &#39;edit_scenario(polygons)&#39; for the first time.  Either it has been reopened by</span>
<a name="l00234"></a>00234 <span class="stringliteral">                Tools.shared.updateExtents(), Main.mainwindow.copyScenario() or it has been newly written by</span>
<a name="l00235"></a>00235 <span class="stringliteral">                Main.mainwindow.dlgscenarioedittypes.</span>
<a name="l00236"></a>00236 <span class="stringliteral">                </span>
<a name="l00237"></a>00237 <span class="stringliteral">            &#39;&#39;&#39;</span>
<a name="l00238"></a>00238             
<a name="l00239"></a>00239             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#aedcba3245b505c4b13d3fea4d5d4640c">setPolygonColor</a>(vlayer, red, vlayerName) <span class="comment"># sets color for edit_scenario Polygons</span>
<a name="l00240"></a>00240             
<a name="l00241"></a>00241         <span class="keywordflow">elif</span> vlayerName == config.orientingLayersChecked[0]: <span class="comment"># the base_towns layer</span>
<a name="l00242"></a>00242             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): This is the base_towns layer&quot;</span>
<a name="l00243"></a>00243             
<a name="l00244"></a>00244             
<a name="l00245"></a>00245             <span class="comment"># The user could be opening this layer with &#39;Add Vector&#39; or the app could be opening orienting layers</span>
<a name="l00246"></a>00246             self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#a035a771763f9519c2d08eae0872b7525">setBaseTownsProperties</a>(vlayer) <span class="comment"># sets this layer to transparent with black borders</span>
<a name="l00247"></a>00247                         
<a name="l00248"></a>00248         <span class="keywordflow">elif</span> vlayer.geometryType() == 1: <span class="comment"># set line width for all line layers</span>
<a name="l00249"></a>00249             <span class="comment"># debugging</span>
<a name="l00250"></a>00250             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): geometry = 1&quot;</span>
<a name="l00251"></a>00251             symbolLayer = vlayer.rendererV2().symbols()[0].symbolLayer(0)
<a name="l00252"></a>00252             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The line width before setting is: &quot;</span> + str(symbolLayer.width())
<a name="l00253"></a>00253             symbolLayer.setWidth(0.4)
<a name="l00254"></a>00254             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The line width after setting is: &quot;</span> + str(symbolLayer.width())
<a name="l00255"></a>00255             vlayer.triggerRepaint()
<a name="l00256"></a>00256         
<a name="l00257"></a>00257         <span class="comment"># debugging</span>
<a name="l00258"></a>00258         <span class="keywordflow">if</span> vlayer.isUsingRendererV2():
<a name="l00259"></a>00259             rendererV2 = vlayer.rendererV2()
<a name="l00260"></a>00260             symbols = rendererV2.symbols()
<a name="l00261"></a>00261             <span class="comment"># only 1 symbol in symbols and only one layer</span>
<a name="l00262"></a>00262             symbol = symbols[0]
<a name="l00263"></a>00263             symbolLayer = symbol.symbolLayer(0)
<a name="l00264"></a>00264             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): rendererV2.dump is:&quot;</span> + rendererV2.dump()
<a name="l00265"></a>00265             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The layer properties are: &quot;</span>
<a name="l00266"></a>00266             <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> symbolLayer.properties().iteritems():
<a name="l00267"></a>00267                 <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, v)
<a name="l00268"></a>00268             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The number of symbols is: &quot;</span> + str(len(symbols))
<a name="l00269"></a>00269             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The number of layers in symbols[0] is: &quot;</span> + str(symbol.symbolLayerCount())
<a name="l00270"></a>00270             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.LegendItem.setRendererV2(): The layer type is: &quot;</span> + str(symbolLayer.layerType())        

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_aa5ecf2fb6a93ce524da76425134f4814_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_aa5ecf2fb6a93ce524da76425134f4814_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_aa5ecf2fb6a93ce524da76425134f4814_cgraph" id="class_main_1_1legend_1_1_legend_item_aa5ecf2fb6a93ce524da76425134f4814_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#a035a771763f9519c2d08eae0872b7525" title="Main.legend.LegendItem.setBaseTownsProperties" alt="" coords="310,5,621,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend_item.html#a3651742aefc3cf965bf985bf3de6760b" title="Main.legend.LegendItem.setLineColorAndWidth" alt="" coords="317,56,613,83"/><area shape="rect" id="node10" href="class_main_1_1legend_1_1_legend_item.html#a1ae5f6861b6ecd6ff5c289f4e5d395c7" title="Main.legend.LegendItem.setPointsRuleRendererV2" alt="" coords="307,107,623,133"/><area shape="rect" id="node13" href="class_main_1_1legend_1_1_legend_item.html#aedcba3245b505c4b13d3fea4d5d4640c" title="Main.legend.LegendItem.setPolygonColor" alt="" coords="334,157,597,184"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend_item.html#a2b588baf784d2a6ad86a6e02fb0f50f1" title="Main.legend.LegendItem.addLayerToColoredLayers" alt="" coords="672,81,989,108"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79f538e648197a1271910ac7984a9621"></a><!-- doxytag: member="Main::legend::LegendItem::storeAppearanceSettings" ref="a79f538e648197a1271910ac7984a9621" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#a79f538e648197a1271910ac7984a9621">Main.legend.LegendItem.storeAppearanceSettings</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Store the appearance of the layer item </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00162">162</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00162">Main.legend.LegendItem.__itemIsExpanded</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00162"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a79f538e648197a1271910ac7984a9621">00162</a> 
<a name="l00163"></a>00163     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a79f538e648197a1271910ac7984a9621">storeAppearanceSettings</a>(self):
<a name="l00164"></a>00164         <span class="stringliteral">&quot;&quot;&quot; Store the appearance of the layer item &quot;&quot;&quot;</span>
<a name="l00165"></a>00165         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#abf339d579ad42496631d0bb0a4b760a3">__itemIsExpanded</a> = self.isExpanded()

</pre></div>
</div>
</div>
<a class="anchor" id="a80d086a9d101fffd6f7607cd03868899"></a><!-- doxytag: member="Main::legend::LegendItem::vectorLayerSymbology" ref="a80d086a9d101fffd6f7607cd03868899" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend_item.html#a80d086a9d101fffd6f7607cd03868899">Main.legend.LegendItem.vectorLayerSymbology</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vlayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Set the child icon that shows layer color </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00170">170</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00182">Main.legend.LegendItem.changeSymbologySettings()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00170"></a><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a80d086a9d101fffd6f7607cd03868899">00170</a> 
<a name="l00171"></a>00171     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend_item.html#a80d086a9d101fffd6f7607cd03868899">vectorLayerSymbology</a>(self, vlayer):
<a name="l00172"></a>00172         <span class="stringliteral">&#39;&#39;&#39; Set the child icon that shows layer color &#39;&#39;&#39;</span>
<a name="l00173"></a>00173         rendererV2 = vlayer.rendererV2()
<a name="l00174"></a>00174         symbol = rendererV2.symbols()[0]
<a name="l00175"></a>00175 
<a name="l00176"></a>00176         <span class="comment"># a QImage object</span>
<a name="l00177"></a>00177         image = symbol.bigSymbolPreviewImage()
<a name="l00178"></a>00178         pixmap = QtGui.QPixmap(100, 100)
<a name="l00179"></a>00179         pixmap = pixmap.fromImage(image) 
<a name="l00180"></a>00180 
<a name="l00181"></a>00181         self.<a class="code" href="class_main_1_1legend_1_1_legend_item.html#acfad97bf904db19f4a7ae20105efcce3">changeSymbologySettings</a>(vlayer, pixmap)
        
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_item_a80d086a9d101fffd6f7607cd03868899_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_item_a80d086a9d101fffd6f7607cd03868899_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_item_a80d086a9d101fffd6f7607cd03868899_cgraph" id="class_main_1_1legend_1_1_legend_item_a80d086a9d101fffd6f7607cd03868899_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend_item.html#acfad97bf904db19f4a7ae20105efcce3" title="Main.legend.LegendItem.changeSymbologySettings" alt="" coords="352,5,675,32"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="abf339d579ad42496631d0bb0a4b760a3"></a><!-- doxytag: member="Main::legend::LegendItem::__itemIsExpanded" ref="abf339d579ad42496631d0bb0a4b760a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#abf339d579ad42496631d0bb0a4b760a3">Main::legend.LegendItem::__itemIsExpanded</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00162">162</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00166">Main.legend.LegendItem::restoreAppearanceSettings()</a>, and <a class="el" href="legend_8py_source.html#l00162">Main.legend.LegendItem::storeAppearanceSettings()</a>.</p>

</div>
</div>
<a class="anchor" id="a73664bdea08a43fac8a164316ef3af5b"></a><!-- doxytag: member="Main::legend::LegendItem::canvasLayer" ref="a73664bdea08a43fac8a164316ef3af5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a73664bdea08a43fac8a164316ef3af5b">Main::legend.LegendItem::canvasLayer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00050">50</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

</div>
</div>
<a class="anchor" id="a71d3f69782ac53ebf8417ffc34c4c45b"></a><!-- doxytag: member="Main::legend::LegendItem::child" ref="a71d3f69782ac53ebf8417ffc34c4c45b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a71d3f69782ac53ebf8417ffc34c4c45b">Main::legend.LegendItem::child</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00058">58</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00182">Main.legend.LegendItem.changeSymbologySettings()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ca7d85a5a8f660add2f900b5da86f02"></a><!-- doxytag: member="Main::legend::LegendItem::isVect" ref="a4ca7d85a5a8f660add2f900b5da86f02" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a4ca7d85a5a8f660add2f900b5da86f02">Main::legend.LegendItem::isVect</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00050">50</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

</div>
</div>
<a class="anchor" id="a3fe53b1c7e30de041ee6f4bc16f3ab21"></a><!-- doxytag: member="Main::legend::LegendItem::layerId" ref="a3fe53b1c7e30de041ee6f4bc16f3ab21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a3fe53b1c7e30de041ee6f4bc16f3ab21">Main::legend.LegendItem::layerId</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00050">50</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

</div>
</div>
<a class="anchor" id="a0368f40de35e043b9d500e3be69cb39e"></a><!-- doxytag: member="Main::legend::LegendItem::layerName" ref="a0368f40de35e043b9d500e3be69cb39e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a0368f40de35e043b9d500e3be69cb39e">Main::legend.LegendItem::layerName</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00050">50</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00271">Main.legend.LegendItem.addLayerToColoredLayers()</a>.</p>

</div>
</div>
<a class="anchor" id="acede1b3c5b1461b21a9bcdd7eadf1c33"></a><!-- doxytag: member="Main::legend::LegendItem::legend" ref="acede1b3c5b1461b21a9bcdd7eadf1c33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#acede1b3c5b1461b21a9bcdd7eadf1c33">Main::legend.LegendItem::legend</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00050">50</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00271">Main.legend.LegendItem::addLayerToColoredLayers()</a>, <a class="el" href="mainwindow_8py_source.html#l03027">Main.mainwindow.MainWindow::arrangeOrientingLayers()</a>, and <a class="el" href="mainwindow_8py_source.html#l01013">Main.mainwindow.MainWindow::copyScenario()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ca3079b7b4db46f6173644a7caec269"></a><!-- doxytag: member="Main::legend::LegendItem::openingScenario" ref="a6ca3079b7b4db46f6173644a7caec269" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend_item.html#a6ca3079b7b4db46f6173644a7caec269">Main::legend.LegendItem::openingScenario</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00050">50</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="mainwindow_8py_source.html#l00329">Main.mainwindow.MainWindow.openScenario()</a>, and <a class="el" href="mainwindow_8py_source.html#l02803">Main.mainwindow.MainWindow.setInitialAppState()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/egit_repositories/CAPS-Scenario-Builder/CAPS_Scenario_Builder/src/Main/<a class="el" href="legend_8py_source.html">legend.py</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 12 2012 10:42:23 for Caps Scenario Builder by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

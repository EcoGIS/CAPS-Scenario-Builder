<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Caps Scenario Builder: Main.legend.Legend Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="CAPS_icon.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Caps Scenario Builder
   &#160;<span id="projectnumber">0.9</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_main.html">Main</a>      </li>
      <li class="navelem"><a class="el" href="namespace_main_1_1legend.html">legend</a>      </li>
      <li class="navelem"><a class="el" href="class_main_1_1legend_1_1_legend.html">Legend</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Main.legend.Legend Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Main::legend::Legend" -->
<p><a href="class_main_1_1legend_1_1_legend-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a7d238f6df67ccabe55e9148202a81988">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a9c8948bb024f766d5c8c0333a488a482">setCanvas</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288">showMenu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc">getMenu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a799e175afa78a82581030b6d6a927899">mousePressEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9">mouseMoveEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#ad51cf320373066c8ce7656f902b5bfd2">mouseReleaseEvent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976">addLayerToLegend</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79">addLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a5c19c8aa054771fd00e3c8449e87f0f4">updateLayerStatus</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#abaff44ebb728b88faf37f8fc96b6081e">currentItemChanged</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b">zoomToLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e">removeCurrentLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3">layerSymbology</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283">zoomToLegendLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c">removeLegendLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a8af5d90bedc94e0f798da40e03756cae">setStatusForAllLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956">getLayerSet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a5ca8b297d3019ca9bac5751bfa819c22">activeLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#adb4bf8b655847c305ebc0972fea72248">collapseAll</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a5cc17b9ee93882597d42f47a894b4731">expandAll</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a8d4d921da2d372e84665c9b24c400990">storeInitialPosition</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6">getLayerIDs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a3d2862cfeefc51fb768d9865fa5ed882">nextSibling</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a48c59b9f285bcf397713573deaabf520">moveItem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#ac3e1bd7fb7999adee0f1e1dcbe31a99c">checkLayerOrderUpdate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a4f1648ab9f5276cc3b94874fe0f49c74">yCoordAboveCenter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a922445a671e3553a000f7d9c6b3f481b">normalizeLayerName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#af9fc4d536f2b6a115ce46f48819d0cea">createUniqueName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523">refreshLayerSymbology</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729">removeLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288">deleteEditingLayer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf">removeEditLayerFromRegistry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2">setActiveLayerVariables</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89">removeLayerFromLegendById</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#acbec5c3606c0e20000044b14b91a1898">removeAll</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#af3a436f018c4cd53dc81542142bf8b30">canvas</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a47ff7cdecb67f1477a86074f13ce3a4b">bMousePressedFlag</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a1b360ba94a8d35e88dfa2e9e041732c3">currentColor</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a6cdc44abfd3a173dc296add0dc089c8c">menu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a9f88f6b6027c8cada54c5cece84e8022">lastPressPos</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#ae9c3efe90e240e66a79ccf5710ad9d8f">__beforeDragStateLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_main_1_1legend_1_1_legend.html#a396506015bb6aef91616350e0031f169">__afterDragStateLayers</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><div class="fragment"><pre class="fragment">
  Provide a widget that manages map layers and their symbology as tree items
</pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00469">469</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7d238f6df67ccabe55e9148202a81988"></a><!-- doxytag: member="Main::legend::Legend::__init__" ref="a7d238f6df67ccabe55e9148202a81988" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a7d238f6df67ccabe55e9148202a81988">Main.legend.Legend.__init__</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00473">473</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00473"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">00473</a> 
<a name="l00474"></a>00474     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a7d238f6df67ccabe55e9148202a81988">__init__</a>(self, parent):
<a name="l00475"></a>00475         QtGui.QTreeWidget.__init__(self, parent)
<a name="l00476"></a>00476         
<a name="l00477"></a>00477         <span class="comment"># debugging</span>
<a name="l00478"></a>00478         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.Legend() class&quot;</span>
<a name="l00479"></a>00479         
<a name="l00480"></a>00480         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a> = parent
<a name="l00481"></a>00481         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#af3a436f018c4cd53dc81542142bf8b30">canvas</a> = parent.canvas
<a name="l00482"></a>00482         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a> = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956">getLayerSet</a>()
<a name="l00483"></a>00483         
<a name="l00484"></a>00484         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a47ff7cdecb67f1477a86074f13ce3a4b">bMousePressedFlag</a> = <span class="keyword">False</span>
<a name="l00485"></a>00485         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a> = <span class="keywordtype">None</span>
<a name="l00486"></a>00486 
<a name="l00487"></a>00487         <span class="comment"># QTreeWidget properties</span>
<a name="l00488"></a>00488         self.setSortingEnabled(<span class="keyword">False</span>)
<a name="l00489"></a>00489         self.setDragEnabled(<span class="keyword">False</span>)
<a name="l00490"></a>00490         self.setAutoScroll(<span class="keyword">True</span>)
<a name="l00491"></a>00491         self.setHeaderHidden(<span class="keyword">True</span>)
<a name="l00492"></a>00492         self.setRootIsDecorated(<span class="keyword">True</span>)
<a name="l00493"></a>00493         self.setContextMenuPolicy(QtCore.Qt.CustomContextMenu)
<a name="l00494"></a>00494         <span class="comment"># added by be</span>
<a name="l00495"></a>00495         self.setSelectionMode(QtGui.QAbstractItemView.SingleSelection)
<a name="l00496"></a>00496         <span class="comment">#self.setSelectionMode(QtGui.QAbstractItemView.NoSelection)</span>
<a name="l00497"></a>00497         self.setSelectionBehavior(QtGui.QAbstractItemView.SelectItems)
<a name="l00498"></a>00498         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a1b360ba94a8d35e88dfa2e9e041732c3">currentColor</a> = <span class="keywordtype">None</span>
<a name="l00499"></a>00499  
<a name="l00500"></a>00500         self.connect(self, QtCore.SIGNAL(<span class="stringliteral">&quot;customContextMenuRequested(QPoint)&quot;</span>),
<a name="l00501"></a>00501             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288">showMenu</a>)
<a name="l00502"></a>00502         self.connect(QgsMapLayerRegistry.instance(), QtCore.SIGNAL(<span class="stringliteral">&quot;layerWasAdded(QgsMapLayer *)&quot;</span>),
<a name="l00503"></a>00503             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976">addLayerToLegend</a>)
<a name="l00504"></a>00504         <span class="comment">#self.connect(QgsMapLayerRegistry.instance(), QtCore.SIGNAL(&quot;removedAll()&quot;),</span>
<a name="l00505"></a>00505             <span class="comment">#self.removeAll)</span>
<a name="l00506"></a>00506         self.connect(self, QtCore.SIGNAL(<span class="stringliteral">&quot;itemChanged(QTreeWidgetItem *,int)&quot;</span>),
<a name="l00507"></a>00507             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a5c19c8aa054771fd00e3c8449e87f0f4">updateLayerStatus</a>) 
<a name="l00508"></a>00508         self.connect(self, QtCore.SIGNAL(<span class="stringliteral">&quot;currentItemChanged(QTreeWidgetItem *, QTreeWidgetItem *)&quot;</span>),
<a name="l00509"></a>00509             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#abaff44ebb728b88faf37f8fc96b6081e">currentItemChanged</a>)

</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5ca8b297d3019ca9bac5751bfa819c22"></a><!-- doxytag: member="Main::legend::Legend::activeLayer" ref="a5ca8b297d3019ca9bac5751bfa819c22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a5ca8b297d3019ca9bac5751bfa819c22">Main.legend.Legend.activeLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Return the selected layer </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00829">829</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00849">Main.legend.Legend.isLegendLayer()</a>, and <a class="el" href="snippets_8py_source.html#l00012">snippets.parent</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00829"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a5ca8b297d3019ca9bac5751bfa819c22">00829</a> 
<a name="l00830"></a>00830     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a5ca8b297d3019ca9bac5751bfa819c22">activeLayer</a>(self):
<a name="l00831"></a>00831         <span class="stringliteral">&quot;&quot;&quot; Return the selected layer &quot;&quot;&quot;</span>
<a name="l00832"></a>00832         <span class="keywordflow">if</span> self.currentItem():
<a name="l00833"></a>00833             <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(self.currentItem()):
<a name="l00834"></a>00834                 <span class="keywordflow">return</span> self.currentItem().canvasLayer
<a name="l00835"></a>00835             <span class="keywordflow">else</span>: <span class="keywordflow">return</span> self.currentItem().<a class="code" href="namespacesnippets.html#aa91c724c7e3708ab597bb2b624cf33d9">parent</a>().canvasLayer
<a name="l00836"></a>00836         <span class="keywordflow">else</span>: <span class="keywordflow">return</span> <span class="keywordtype">None</span>

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a5ca8b297d3019ca9bac5751bfa819c22_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a5ca8b297d3019ca9bac5751bfa819c22_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a5ca8b297d3019ca9bac5751bfa819c22_cgraph" id="class_main_1_1legend_1_1_legend_a5ca8b297d3019ca9bac5751bfa819c22_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60" title="Main.legend.Legend.isLegendLayer" alt="" coords="261,5,488,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0d7b50c29a3f42862ba06ee62e4fac79"></a><!-- doxytag: member="Main::legend::Legend::addLayer" ref="a0d7b50c29a3f42862ba06ee62e4fac79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79">Main.legend.Legend.addLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>legendLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Add a legend item to the legend widget </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00619">619</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00614">Main.legend.Legend.addLayerToLegend()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00619"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79">00619</a> 
<a name="l00620"></a>00620     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79">addLayer</a>(self, legendLayer):
<a name="l00621"></a>00621         <span class="stringliteral">&quot;&quot;&quot; Add a legend item to the legend widget &quot;&quot;&quot;</span>
<a name="l00622"></a>00622         self.insertTopLevelItem (0, legendLayer)
<a name="l00623"></a>00623         
<a name="l00624"></a>00624         <span class="comment"># be moved to here to slow active layer changed signal</span>
<a name="l00625"></a>00625         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>()
<a name="l00626"></a>00626         self.expandItem(legendLayer)
<a name="l00627"></a>00627         self.setCurrentItem(legendLayer)

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_cgraph" id="class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="249,5,482,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="531,5,743,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_icgraph" id="class_main_1_1legend_1_1_legend_a0d7b50c29a3f42862ba06ee62e4fac79_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976" title="Main.legend.Legend.addLayerToLegend" alt="" coords="248,5,499,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe85d747b75f4f6b011eb43540748976"></a><!-- doxytag: member="Main::legend::Legend::addLayerToLegend" ref="afe85d747b75f4f6b011eb43540748976" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976">Main.legend.Legend.addLayerToLegend</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mapLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Slot. Create and add a legend item based on a layer </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00614">614</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00619">Main.legend.Legend.addLayer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00614"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976">00614</a> 
<a name="l00615"></a>00615     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976">addLayerToLegend</a>(self, mapLayer):
<a name="l00616"></a>00616         <span class="stringliteral">&quot;&quot;&quot; Slot. Create and add a legend item based on a layer &quot;&quot;&quot;</span>
<a name="l00617"></a>00617         legendLayer = <a class="code" href="class_main_1_1legend_1_1_legend_item.html">LegendItem</a>(self, QgsMapCanvasLayer(mapLayer))
<a name="l00618"></a>00618         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79">addLayer</a>(legendLayer)

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_afe85d747b75f4f6b011eb43540748976_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_afe85d747b75f4f6b011eb43540748976_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_afe85d747b75f4f6b011eb43540748976_cgraph" id="class_main_1_1legend_1_1_legend_afe85d747b75f4f6b011eb43540748976_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79" title="Main.legend.Legend.addLayer" alt="" coords="304,5,499,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="547,5,781,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="830,5,1042,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac3e1bd7fb7999adee0f1e1dcbe31a99c"></a><!-- doxytag: member="Main::legend::Legend::checkLayerOrderUpdate" ref="ac3e1bd7fb7999adee0f1e1dcbe31a99c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#ac3e1bd7fb7999adee0f1e1dcbe31a99c">Main.legend.Legend.checkLayerOrderUpdate</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">
    Check if the initial layers order is equal to the final one.
    This is used to refresh the legend in the release event.
</pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00879">879</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00597">Main.legend.Legend.mouseReleaseEvent()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00879"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#ac3e1bd7fb7999adee0f1e1dcbe31a99c">00879</a> 
<a name="l00880"></a>00880     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#ac3e1bd7fb7999adee0f1e1dcbe31a99c">checkLayerOrderUpdate</a>(self):
<a name="l00881"></a>00881         <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00882"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a396506015bb6aef91616350e0031f169">00882</a> <span class="stringliteral">            Check if the initial layers order is equal to the final one.</span>
<a name="l00883"></a>00883 <span class="stringliteral">            This is used to refresh the legend in the release event.</span>
<a name="l00884"></a>00884 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00885"></a>00885         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a396506015bb6aef91616350e0031f169">__afterDragStateLayers</a> = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6">getLayerIDs</a>()
<a name="l00886"></a>00886         <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a396506015bb6aef91616350e0031f169">__afterDragStateLayers</a> != self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae9c3efe90e240e66a79ccf5710ad9d8f">__beforeDragStateLayers</a>: self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>()

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_ac3e1bd7fb7999adee0f1e1dcbe31a99c_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_ac3e1bd7fb7999adee0f1e1dcbe31a99c_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_ac3e1bd7fb7999adee0f1e1dcbe31a99c_icgraph" id="class_main_1_1legend_1_1_legend_ac3e1bd7fb7999adee0f1e1dcbe31a99c_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ad51cf320373066c8ce7656f902b5bfd2" title="Main.legend.Legend.mouseReleaseEvent" alt="" coords="337,5,597,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adb4bf8b655847c305ebc0972fea72248"></a><!-- doxytag: member="Main::legend::Legend::collapseAll" ref="adb4bf8b655847c305ebc0972fea72248" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#adb4bf8b655847c305ebc0972fea72248">Main.legend.Legend.collapseAll</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Collapse all layer items in the legend </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00837">837</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00523">Main.legend.Legend.getMenu()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00837"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#adb4bf8b655847c305ebc0972fea72248">00837</a> 
<a name="l00838"></a>00838     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#adb4bf8b655847c305ebc0972fea72248">collapseAll</a>(self):
<a name="l00839"></a>00839         <span class="stringliteral">&quot;&quot;&quot; Collapse all layer items in the legend &quot;&quot;&quot;</span>
<a name="l00840"></a>00840         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00841"></a>00841             item = self.topLevelItem(i)
<a name="l00842"></a>00842             self.collapseItem(item)

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_adb4bf8b655847c305ebc0972fea72248_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_adb4bf8b655847c305ebc0972fea72248_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_adb4bf8b655847c305ebc0972fea72248_icgraph" id="class_main_1_1legend_1_1_legend_adb4bf8b655847c305ebc0972fea72248_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="259,5,451,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="499,5,703,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af9fc4d536f2b6a115ce46f48819d0cea"></a><!-- doxytag: member="Main::legend::Legend::createUniqueName" ref="af9fc4d536f2b6a115ce46f48819d0cea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#af9fc4d536f2b6a115ce46f48819d0cea">Main.legend.Legend.createUniqueName</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Avoid to repeat layers names </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00908">908</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00901">Main.legend.Legend.normalizeLayerName()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00908"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#af9fc4d536f2b6a115ce46f48819d0cea">00908</a> 
<a name="l00909"></a>00909     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#af9fc4d536f2b6a115ce46f48819d0cea">createUniqueName</a>(self, name):
<a name="l00910"></a>00910         <span class="stringliteral">&quot;&quot;&quot; Avoid to repeat layers names &quot;&quot;&quot;</span>
<a name="l00911"></a>00911         <span class="keyword">import</span> re
<a name="l00912"></a>00912         name_validation = re.compile(<span class="stringliteral">&quot;\s\(\d+\)$&quot;</span>, re.UNICODE) <span class="comment"># Strings like &quot; (1)&quot;</span>
<a name="l00913"></a>00913 
<a name="l00914"></a>00914         bRepetida = <span class="keyword">True</span>
<a name="l00915"></a>00915         i = 1
<a name="l00916"></a>00916         <span class="keywordflow">while</span> bRepetida:
<a name="l00917"></a>00917             bRepetida = <span class="keyword">False</span>
<a name="l00918"></a>00918 
<a name="l00919"></a>00919             <span class="comment"># If necessary add a sufix like &quot; (1)&quot; to avoid to repeat names in the legend</span>
<a name="l00920"></a>00920             <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00921"></a>00921                 item = self.topLevelItem(j)
<a name="l00922"></a>00922                 <span class="keywordflow">if</span> item.text(0) == name:
<a name="l00923"></a>00923                     bRepetida = <span class="keyword">True</span>
<a name="l00924"></a>00924                     <span class="keywordflow">if</span> name_validation.search(name): <span class="comment"># The name already have numeration</span>
<a name="l00925"></a>00925                         name = name[ :-4 ]  + <span class="stringliteral">&#39; (&#39;</span> + unicode(i) + <span class="stringliteral">&#39;)&#39;</span>
<a name="l00926"></a>00926                     <span class="keywordflow">else</span>: <span class="comment"># Add numeration because the name doesn&#39;t have it</span>
<a name="l00927"></a>00927                         name = name + <span class="stringliteral">&#39; (&#39;</span> + unicode(i) + <span class="stringliteral">&#39;)&#39;</span>
<a name="l00928"></a>00928                     i += 1
<a name="l00929"></a>00929         <span class="keywordflow">return</span> name

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_af9fc4d536f2b6a115ce46f48819d0cea_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_af9fc4d536f2b6a115ce46f48819d0cea_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_af9fc4d536f2b6a115ce46f48819d0cea_icgraph" id="class_main_1_1legend_1_1_legend_af9fc4d536f2b6a115ce46f48819d0cea_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a922445a671e3553a000f7d9c6b3f481b" title="Main.legend.Legend.normalizeLayerName" alt="" coords="307,5,571,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abaff44ebb728b88faf37f8fc96b6081e"></a><!-- doxytag: member="Main::legend::Legend::currentItemChanged" ref="abaff44ebb728b88faf37f8fc96b6081e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#abaff44ebb728b88faf37f8fc96b6081e">Main.legend.Legend.currentItemChanged</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>newItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>oldItem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Slot. Capture a new currentItem and emit a SIGNAL to inform the new type 
    It could be used to activate/deactivate GUI buttons according the layer type
</pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00650">650</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00849">Main.legend.Legend.isLegendLayer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00650"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#abaff44ebb728b88faf37f8fc96b6081e">00650</a> 
<a name="l00651"></a>00651     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#abaff44ebb728b88faf37f8fc96b6081e">currentItemChanged</a>(self, newItem, oldItem):
<a name="l00652"></a>00652         <span class="stringliteral">&quot;&quot;&quot; Slot. Capture a new currentItem and emit a SIGNAL to inform the new type </span>
<a name="l00653"></a>00653 <span class="stringliteral">            It could be used to activate/deactivate GUI buttons according the layer type</span>
<a name="l00654"></a>00654 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00655"></a>00655         layerType = <span class="keywordtype">None</span>
<a name="l00656"></a>00656         <span class="keywordflow">if</span> self.currentItem():
<a name="l00657"></a>00657             <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(newItem):
<a name="l00658"></a>00658                 layerType = newItem.canvasLayer.layer().type()
<a name="l00659"></a>00659                 self.canvas.setCurrentLayer(newItem.canvasLayer.layer())
<a name="l00660"></a>00660             <span class="keywordflow">else</span>:
<a name="l00661"></a>00661                 layerType = newItem.parent().canvasLayer.layer().type()
<a name="l00662"></a>00662                 self.canvas.setCurrentLayer(newItem.parent().canvasLayer.layer())
<a name="l00663"></a>00663 
<a name="l00664"></a>00664         <span class="comment"># be Create a Python &quot;short-circuit&quot; signal (note no &quot;SIGNAL&quot; parentheses)</span>
<a name="l00665"></a>00665         self.emit(QtCore.SIGNAL(<span class="stringliteral">&quot;activeLayerChanged&quot;</span>), layerType)

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_abaff44ebb728b88faf37f8fc96b6081e_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_abaff44ebb728b88faf37f8fc96b6081e_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_abaff44ebb728b88faf37f8fc96b6081e_cgraph" id="class_main_1_1legend_1_1_legend_abaff44ebb728b88faf37f8fc96b6081e_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60" title="Main.legend.Legend.isLegendLayer" alt="" coords="312,5,539,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa541e80067525773e6696ebcc8985288"></a><!-- doxytag: member="Main::legend::Legend::deleteEditingLayer" ref="aa541e80067525773e6696ebcc8985288" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288">Main.legend.Legend.deleteEditingLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>editFilePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Removes an editing shapefile. </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00949">949</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00670">Main.legend.Legend.removeCurrentLayer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00949"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288">00949</a> 
<a name="l00950"></a>00950     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288">deleteEditingLayer</a>(self, editFilePath):
<a name="l00951"></a>00951         <span class="stringliteral">&#39;&#39;&#39; Removes an editing shapefile. &#39;&#39;&#39;</span>
<a name="l00952"></a>00952         <span class="comment"># debugging</span>
<a name="l00953"></a>00953         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.deleteEditingLayer()&quot;</span>
<a name="l00954"></a>00954         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.deleteEditingLayer(): editFilePath is &quot;</span> + editFilePath
<a name="l00955"></a>00955 
<a name="l00956"></a>00956         editFile = QtCore.QFile(editFilePath)
<a name="l00957"></a>00957         <span class="keywordflow">if</span> editFile.exists():
<a name="l00958"></a>00958             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.deleteEditingLayer(): editFile exists is True&quot;</span>
<a name="l00959"></a>00959             writer = QgsVectorFileWriter.deleteShapeFile(editFilePath)
<a name="l00960"></a>00960         <span class="keywordflow">if</span> <span class="keywordflow">not</span> writer: <span class="comment"># writer returns true if delete successful</span>
<a name="l00961"></a>00961             QtGui.QMessageBox.warning(self, <span class="stringliteral">&quot;File Error&quot;</span>, <span class="stringliteral">&quot;The editing shapefile could not be deleted. \</span>
<a name="l00962"></a>00962 <span class="stringliteral">Please check if it is open in another program and try again.&quot;</span>)
<a name="l00963"></a>00963             <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00964"></a>00964         <span class="keywordflow">else</span>: <span class="keywordflow">return</span> <span class="keyword">True</span>
     
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_aa541e80067525773e6696ebcc8985288_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_aa541e80067525773e6696ebcc8985288_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_aa541e80067525773e6696ebcc8985288_icgraph" id="class_main_1_1legend_1_1_legend_aa541e80067525773e6696ebcc8985288_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="305,5,562,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="611,5,803,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="851,5,1055,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5cc17b9ee93882597d42f47a894b4731"></a><!-- doxytag: member="Main::legend::Legend::expandAll" ref="a5cc17b9ee93882597d42f47a894b4731" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a5cc17b9ee93882597d42f47a894b4731">Main.legend.Legend.expandAll</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Expand all layer items in the legend </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00843">843</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00523">Main.legend.Legend.getMenu()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00843"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a5cc17b9ee93882597d42f47a894b4731">00843</a> 
<a name="l00844"></a>00844     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a5cc17b9ee93882597d42f47a894b4731">expandAll</a>(self):
<a name="l00845"></a>00845         <span class="stringliteral">&quot;&quot;&quot; Expand all layer items in the legend &quot;&quot;&quot;</span>
<a name="l00846"></a>00846         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00847"></a>00847             item = self.topLevelItem(i)
<a name="l00848"></a>00848             self.expandItem(item)

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a5cc17b9ee93882597d42f47a894b4731_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a5cc17b9ee93882597d42f47a894b4731_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a5cc17b9ee93882597d42f47a894b4731_icgraph" id="class_main_1_1legend_1_1_legend_a5cc17b9ee93882597d42f47a894b4731_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="253,5,445,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="494,5,698,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a058c38ffc644ff330b68d7e9ebd895a6"></a><!-- doxytag: member="Main::legend::Legend::getLayerIDs" ref="a058c38ffc644ff330b68d7e9ebd895a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6">Main.legend.Legend.getLayerIDs</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Return a list with the layers ids </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00857">857</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00853">Main.legend.Legend.storeInitialPosition()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00857"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6">00857</a> 
<a name="l00858"></a>00858     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6">getLayerIDs</a>(self):
<a name="l00859"></a>00859         <span class="stringliteral">&quot;&quot;&quot; Return a list with the layers ids &quot;&quot;&quot;</span>
<a name="l00860"></a>00860         layers = []
<a name="l00861"></a>00861         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00862"></a>00862             item = self.topLevelItem(i)
<a name="l00863"></a>00863             layers.append(item.layerId)
<a name="l00864"></a>00864         <span class="keywordflow">return</span> layers

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a058c38ffc644ff330b68d7e9ebd895a6_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a058c38ffc644ff330b68d7e9ebd895a6_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a058c38ffc644ff330b68d7e9ebd895a6_icgraph" id="class_main_1_1legend_1_1_legend_a058c38ffc644ff330b68d7e9ebd895a6_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a8d4d921da2d372e84665c9b24c400990" title="Main.legend.Legend.storeInitialPosition" alt="" coords="264,5,512,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9" title="Main.legend.Legend.mouseMoveEvent" alt="" coords="560,5,803,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5fbe7ff1ffc2c6190a490126a2d95956"></a><!-- doxytag: member="Main::legend::Legend::getLayerSet" ref="a5fbe7ff1ffc2c6190a490126a2d95956" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956">Main.legend.Legend.getLayerSet</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Get the LayerSet by reading the layer items in the legend </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00822">822</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00822"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956">00822</a> 
<a name="l00823"></a>00823     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956">getLayerSet</a>(self):
<a name="l00824"></a>00824         <span class="stringliteral">&quot;&quot;&quot; Get the LayerSet by reading the layer items in the legend &quot;&quot;&quot;</span>
<a name="l00825"></a>00825         layers = []
<a name="l00826"></a>00826         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00827"></a>00827             layers.append(self.topLevelItem(i).canvasLayer)
<a name="l00828"></a>00828         <span class="keywordflow">return</span> layers

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a5fbe7ff1ffc2c6190a490126a2d95956_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a5fbe7ff1ffc2c6190a490126a2d95956_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a5fbe7ff1ffc2c6190a490126a2d95956_icgraph" id="class_main_1_1legend_1_1_legend_a5fbe7ff1ffc2c6190a490126a2d95956_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="267,132,501,159"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79" title="Main.legend.Legend.addLayer" alt="" coords="611,5,805,32"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="915,132,1173,159"/><area shape="rect" id="node15" href="class_main_1_1legend_1_1_legend.html#a8af5d90bedc94e0f798da40e03756cae" title="Main.legend.Legend.setStatusForAllLayers" alt="" coords="573,107,843,133"/><area shape="rect" id="node17" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729" title="Main.legend.Legend.removeLayers" alt="" coords="597,157,819,184"/><area shape="rect" id="node19" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="550,208,866,235"/><area shape="rect" id="node22" href="class_main_1_1legend_1_1_legend.html#acbec5c3606c0e20000044b14b91a1898" title="Main.legend.Legend.removeAll" alt="" coords="609,259,807,285"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976" title="Main.legend.Legend.addLayerToLegend" alt="" coords="919,5,1169,32"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="1221,132,1413,159"/><area shape="rect" id="node13" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="1462,132,1666,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad17f8dbf98abb379b69a9b55569fcbcc"></a><!-- doxytag: member="Main::legend::Legend::getMenu" ref="ad17f8dbf98abb379b69a9b55569fcbcc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc">Main.legend.Legend.getMenu</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>isVect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>canvasLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Create a context menu for a layer </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00523">523</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00837">Main.legend.Legend.collapseAll()</a>, <a class="el" href="legend_8py_source.html#l00843">Main.legend.Legend.expandAll()</a>, <a class="el" href="legend_8py_source.html#l00748">Main.legend.Legend.layerSymbology()</a>, <a class="el" href="legend_8py_source.html#l00670">Main.legend.Legend.removeCurrentLayer()</a>, and <a class="el" href="legend_8py_source.html#l00666">Main.legend.Legend.zoomToLayer()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00514">Main.legend.Legend.showMenu()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00523"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc">00523</a> 
<a name="l00524"></a>00524     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc">getMenu</a>(self, isVect, canvasLayer):
<a name="l00525"></a>00525         <span class="stringliteral">&quot;&quot;&quot; Create a context menu for a layer &quot;&quot;&quot;</span>
<a name="l00526"></a>00526         menu = QtGui.QMenu()
<a name="l00527"></a>00527         menu.addAction(QtGui.QIcon(resources_prefix + <span class="stringliteral">&quot;mActionZoomToLayer.png&quot;</span>), 
<a name="l00528"></a>00528                                                 <span class="stringliteral">&quot;&amp;Zoom to layer extent&quot;</span>, self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b">zoomToLayer</a>)
<a name="l00529"></a>00529 
<a name="l00530"></a>00530         <span class="keywordflow">if</span> isVect :
<a name="l00531"></a>00531             menu.addAction(QtGui.QIcon(resources_prefix + <span class="stringliteral">&quot;symbology.png&quot;</span>), 
<a name="l00532"></a>00532                                                         <span class="stringliteral">&quot;&amp;Symbology...&quot;</span>, self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3">layerSymbology</a>)
<a name="l00533"></a>00533 
<a name="l00534"></a>00534         menu.addSeparator()
<a name="l00535"></a>00535         menu.addAction(QtGui.QIcon(resources_prefix + <span class="stringliteral">&quot;collapse.png&quot;</span>), <span class="stringliteral">&quot;&amp;Collapse all&quot;</span>, self.<a class="code" href="class_main_1_1legend_1_1_legend.html#adb4bf8b655847c305ebc0972fea72248">collapseAll</a>)
<a name="l00536"></a>00536         menu.addAction(QtGui.QIcon(resources_prefix + <span class="stringliteral">&quot;expand.png&quot;</span>), <span class="stringliteral">&quot;&amp;Expand all&quot;</span>, self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a5cc17b9ee93882597d42f47a894b4731">expandAll</a>)
<a name="l00537"></a>00537 
<a name="l00538"></a>00538         menu.addSeparator()
<a name="l00539"></a>00539         menu.addAction(QtGui.QIcon(resources_prefix + <span class="stringliteral">&quot;mActionRemoveLayer.png&quot;</span>), <span class="stringliteral">&quot;&amp;Remove layer&quot;</span>, self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e">removeCurrentLayer</a>)
<a name="l00540"></a>00540         <span class="keywordflow">return</span> menu

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_cgraph" id="class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#adb4bf8b655847c305ebc0972fea72248" title="Main.legend.Legend.collapseAll" alt="" coords="272,5,477,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a5cc17b9ee93882597d42f47a894b4731" title="Main.legend.Legend.expandAll" alt="" coords="275,56,474,83"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3" title="Main.legend.Legend.layerSymbology" alt="" coords="257,107,492,133"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="246,157,503,184"/><area shape="rect" id="node30" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b" title="Main.legend.Legend.zoomToLayer" alt="" coords="265,259,485,285"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523" title="Main.legend.Legend.refreshLayerSymbology" alt="" coords="571,5,850,32"/><area shape="rect" id="node13" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="553,208,869,235"/><area shape="rect" id="node15" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2" title="Main.legend.Legend.setActiveLayerVariables" alt="" coords="934,157,1215,184"/><area shape="rect" id="node19" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c" title="Main.legend.Legend.removeLegendLayer" alt="" coords="1281,132,1538,159"/><area shape="rect" id="node21" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="958,259,1191,285"/><area shape="rect" id="node25" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288" title="Main.legend.Legend.deleteEditingLayer" alt="" coords="586,107,835,133"/><area shape="rect" id="node17" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89" title="Main.legend.Legend.removeLayerFromLegendById" alt="" coords="918,208,1231,235"/><area shape="rect" id="node23" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="1303,259,1515,285"/><area shape="rect" id="node32" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283" title="Main.legend.Legend.zoomToLegendLayer" alt="" coords="579,309,842,336"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_icgraph" id="class_main_1_1legend_1_1_legend_ad17f8dbf98abb379b69a9b55569fcbcc_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="246,5,450,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae62b43626d58aaeedea8486d62cded60"></a><!-- doxytag: member="Main::legend::Legend::isLegendLayer" ref="ae62b43626d58aaeedea8486d62cded60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">Main.legend.Legend.isLegendLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Check if a given item is a layer item </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00849">849</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00829">Main.legend.Legend.activeLayer()</a>, <a class="el" href="legend_8py_source.html#l00650">Main.legend.Legend.currentItemChanged()</a>, <a class="el" href="legend_8py_source.html#l00552">Main.legend.Legend.mouseMoveEvent()</a>, <a class="el" href="legend_8py_source.html#l00514">Main.legend.Legend.showMenu()</a>, and <a class="el" href="legend_8py_source.html#l00628">Main.legend.Legend.updateLayerStatus()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00849"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">00849</a> 
<a name="l00850"></a>00850     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(self, item):
<a name="l00851"></a>00851         <span class="stringliteral">&quot;&quot;&quot; Check if a given item is a layer item &quot;&quot;&quot;</span>
<a name="l00852"></a>00852         <span class="keywordflow">return</span> <span class="keywordflow">not</span> item.parent()

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_ae62b43626d58aaeedea8486d62cded60_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_ae62b43626d58aaeedea8486d62cded60_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_ae62b43626d58aaeedea8486d62cded60_icgraph" id="class_main_1_1legend_1_1_legend_ae62b43626d58aaeedea8486d62cded60_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a5ca8b297d3019ca9bac5751bfa819c22" title="Main.legend.Legend.activeLayer" alt="" coords="306,5,513,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#abaff44ebb728b88faf37f8fc96b6081e" title="Main.legend.Legend.currentItemChanged" alt="" coords="280,56,539,83"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9" title="Main.legend.Legend.mouseMoveEvent" alt="" coords="288,107,531,133"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="307,157,511,184"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#a5c19c8aa054771fd00e3c8449e87f0f4" title="Main.legend.Legend.updateLayerStatus" alt="" coords="284,208,535,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a24843b8136cbb6a860679c634a2749b3"></a><!-- doxytag: member="Main::legend::Legend::layerSymbology" ref="a24843b8136cbb6a860679c634a2749b3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3">Main.legend.Legend.layerSymbology</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Change the features color of a vector layer </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00748">748</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.layers</a>, <a class="el" href="dlgscenarioedittypes_8py_source.html#l00044">Main.dlgscenarioedittypes.DlgScenarioEditTypes.mainwindow</a>, <a class="el" href="dlgsftpproperties_8py_source.html#l00045">Main.dlgsftpproperties.DlgSftpProperties.mainwindow</a>, <a class="el" href="dlgmanageprojects_8py_source.html#l00046">Main.dlgmanageprojects.DlgManageProjects.mainwindow</a>, <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.mainwindow</a>, <a class="el" href="prepareforsetupexe_8py_source.html#l00062">prepareforsetupexe.name</a>, and <a class="el" href="legend_8py_source.html#l00930">Main.legend.Legend.refreshLayerSymbology()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00523">Main.legend.Legend.getMenu()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00748"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3">00748</a> 
<a name="l00749"></a>00749     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3">layerSymbology</a>(self):
<a name="l00750"></a>00750         <span class="stringliteral">&quot;&quot;&quot; Change the features color of a vector layer &quot;&quot;&quot;</span>
<a name="l00751"></a>00751         <span class="comment"># debugging</span>
<a name="l00752"></a>00752         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.layerSymbology()&quot;</span>
<a name="l00753"></a>00753         legendLayer = self.currentItem()
<a name="l00754"></a>00754         
<a name="l00755"></a>00755         <span class="keywordflow">if</span> legendLayer.isVect == <span class="keyword">True</span>:
<a name="l00756"></a>00756             geom = legendLayer.canvasLayer.layer().geometryType() <span class="comment"># QGis Geometry</span>
<a name="l00757"></a>00757             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a>:
<a name="l00758"></a>00758                 <span class="keywordflow">if</span> i.layer().id() == legendLayer.layerId:
<a name="l00759"></a>00759                     color = QtGui.QColorDialog.getColor(i.layer().rendererV2().symbols()[ 0 ].color(), self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>)
<a name="l00760"></a>00760                     <span class="keywordflow">break</span>
<a name="l00761"></a>00761 
<a name="l00762"></a>00762             <span class="keywordflow">if</span> color.isValid():
<a name="l00763"></a>00763                 legendLayer.canvasLayer.layer().rendererV2().symbols()[0].setColor(color)
<a name="l00764"></a>00764                 name = unicode(legendLayer.canvasLayer.layer().<a class="code" href="namespaceprepareforsetupexe.html#a43a37d0b3fcb153f6f84599e4bb38b50">name</a>())
<a name="l00765"></a>00765                 <span class="comment"># remember the layer&#39;s name and color, or reset the color if the name is in the dictionary</span>
<a name="l00766"></a>00766                 self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.coloredLayers[name] = color
<a name="l00767"></a>00767                 <span class="keywordflow">if</span> unicode(legendLayer.canvasLayer.layer().<a class="code" href="namespaceprepareforsetupexe.html#a43a37d0b3fcb153f6f84599e4bb38b50">name</a>()) == unicode(config.editLayersBaseNames[0]):
<a name="l00768"></a>00768                     <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.layerSymbology(): is edit_scenario(points)&quot;</span>
<a name="l00769"></a>00769                     <span class="comment"># if edit_scenario points, we need to set the color for all the symbols (i.e. box, pentagon and star) </span>
<a name="l00770"></a>00770                     legendLayer.canvasLayer.layer().rendererV2().symbols()[1].setColor(color)
<a name="l00771"></a>00771                     legendLayer.canvasLayer.layer().rendererV2().symbols()[2].setColor(color)
<a name="l00772"></a>00772                     legendLayer.canvasLayer.layer().rendererV2().symbols()[3].setColor(color)
<a name="l00773"></a>00773                 
<a name="l00774"></a>00774                 self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523">refreshLayerSymbology</a>(legendLayer.canvasLayer.layer())

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_cgraph" id="class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523" title="Main.legend.Legend.refreshLayerSymbology" alt="" coords="289,5,567,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_icgraph" id="class_main_1_1legend_1_1_legend_a24843b8136cbb6a860679c634a2749b3_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="288,5,480,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="529,5,733,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a32bbbd8a359c96ce07febe18d3f0d5d9"></a><!-- doxytag: member="Main::legend::Legend::mouseMoveEvent" ref="a32bbbd8a359c96ce07febe18d3f0d5d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9">Main.legend.Legend.mouseMoveEvent</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Mouse move event to manage the layers drag </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00552">552</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.bMousePressedFlag</a>, <a class="el" href="legend_8py_source.html#l00849">Main.legend.Legend.isLegendLayer()</a>, <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.itemBeingMoved</a>, <a class="el" href="legend_8py_source.html#l00541">Main.legend.Legend.lastPressPos</a>, <a class="el" href="legend_8py_source.html#l00872">Main.legend.Legend.moveItem()</a>, <a class="el" href="legend_8py_source.html#l00853">Main.legend.Legend.storeInitialPosition()</a>, and <a class="el" href="legend_8py_source.html#l00887">Main.legend.Legend.yCoordAboveCenter()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00552"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9">00552</a> 
<a name="l00553"></a>00553     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9">mouseMoveEvent</a>(self, event):
<a name="l00554"></a>00554         <span class="stringliteral">&quot;&quot;&quot; Mouse move event to manage the layers drag &quot;&quot;&quot;</span>
<a name="l00555"></a>00555         <span class="keywordflow">if</span> (self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a47ff7cdecb67f1477a86074f13ce3a4b">bMousePressedFlag</a>):
<a name="l00556"></a>00556             <span class="comment"># Set the flag back such that the else if(mItemBeingMoved)</span>
<a name="l00557"></a>00557             <span class="comment"># code part is passed during the next mouse moves</span>
<a name="l00558"></a>00558             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a47ff7cdecb67f1477a86074f13ce3a4b">bMousePressedFlag</a> = <span class="keyword">False</span>
<a name="l00559"></a>00559 
<a name="l00560"></a>00560             <span class="comment"># Remember the item that has been pressed</span>
<a name="l00561"></a>00561             item = self.itemAt(self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a9f88f6b6027c8cada54c5cece84e8022">lastPressPos</a>)
<a name="l00562"></a>00562             <span class="keywordflow">if</span> (item):
<a name="l00563"></a>00563                 <span class="keywordflow">if</span> (self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(item)):
<a name="l00564"></a>00564                     self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a> = item
<a name="l00565"></a>00565                     self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a8d4d921da2d372e84665c9b24c400990">storeInitialPosition</a>() <span class="comment"># Store the initial layers order</span>
<a name="l00566"></a>00566                     self.setCursor(QtCore.Qt.SizeVerCursor)
<a name="l00567"></a>00567                 <span class="keywordflow">else</span>:
<a name="l00568"></a>00568                     self.setCursor(QtCore.Qt.ForbiddenCursor)
<a name="l00569"></a>00569         <span class="keywordflow">elif</span> (self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a>):
<a name="l00570"></a>00570             p = QtCore.QPoint(event.pos())
<a name="l00571"></a>00571             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a9f88f6b6027c8cada54c5cece84e8022">lastPressPos</a> = p
<a name="l00572"></a>00572 
<a name="l00573"></a>00573             <span class="comment"># Change the cursor</span>
<a name="l00574"></a>00574             item = self.itemAt(p)
<a name="l00575"></a>00575             origin = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a>
<a name="l00576"></a>00576             dest = item
<a name="l00577"></a>00577 
<a name="l00578"></a>00578             <span class="keywordflow">if</span> <span class="keywordflow">not</span> item: self.setCursor(QtCore.Qt.ForbiddenCursor)
<a name="l00579"></a>00579 
<a name="l00580"></a>00580             <span class="keywordflow">if</span> (item <span class="keywordflow">and</span> (item != self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a>)):
<a name="l00581"></a>00581                 <span class="keywordflow">if</span> (self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a4f1648ab9f5276cc3b94874fe0f49c74">yCoordAboveCenter</a>(dest, event.y())): <span class="comment"># Above center of the item</span>
<a name="l00582"></a>00582                     <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(dest): <span class="comment"># The item is a layer</span>
<a name="l00583"></a>00583                         <span class="keywordflow">if</span> (origin.nextSibling() != dest):
<a name="l00584"></a>00584                             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a48c59b9f285bcf397713573deaabf520">moveItem</a>(dest, origin)
<a name="l00585"></a>00585                         self.setCurrentItem(origin)
<a name="l00586"></a>00586                         self.setCursor(QtCore.Qt.SizeVerCursor)
<a name="l00587"></a>00587                     <span class="keywordflow">else</span>:
<a name="l00588"></a>00588                         self.setCursor(QtCore.Qt.ForbiddenCursor)
<a name="l00589"></a>00589                 <span class="keywordflow">else</span>: <span class="comment"># Below center of the item</span>
<a name="l00590"></a>00590                     <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(dest): <span class="comment"># The item is a layer</span>
<a name="l00591"></a>00591                         <span class="keywordflow">if</span> (self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a> != dest.nextSibling()):
<a name="l00592"></a>00592                             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a48c59b9f285bcf397713573deaabf520">moveItem</a>(origin, dest)
<a name="l00593"></a>00593                         self.setCurrentItem(origin)
<a name="l00594"></a>00594                         self.setCursor(QtCore.Qt.SizeVerCursor)
<a name="l00595"></a>00595                     <span class="keywordflow">else</span>:
<a name="l00596"></a>00596                         self.setCursor(QtCore.Qt.ForbiddenCursor)

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a32bbbd8a359c96ce07febe18d3f0d5d9_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a32bbbd8a359c96ce07febe18d3f0d5d9_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a32bbbd8a359c96ce07febe18d3f0d5d9_cgraph" id="class_main_1_1legend_1_1_legend_a32bbbd8a359c96ce07febe18d3f0d5d9_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60" title="Main.legend.Legend.isLegendLayer" alt="" coords="311,5,537,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a48c59b9f285bcf397713573deaabf520" title="Main.legend.Legend.moveItem" alt="" coords="325,56,523,83"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a8d4d921da2d372e84665c9b24c400990" title="Main.legend.Legend.storeInitialPosition" alt="" coords="300,107,548,133"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#a4f1648ab9f5276cc3b94874fe0f49c74" title="Main.legend.Legend.yCoordAboveCenter" alt="" coords="296,157,552,184"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6" title="Main.legend.Legend.getLayerIDs" alt="" coords="600,107,811,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a799e175afa78a82581030b6d6a927899"></a><!-- doxytag: member="Main::legend::Legend::mousePressEvent" ref="a799e175afa78a82581030b6d6a927899" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a799e175afa78a82581030b6d6a927899">Main.legend.Legend.mousePressEvent</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Mouse press event to manage the layers drag </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00541">541</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.bMousePressedFlag</a>, and <a class="el" href="legend_8py_source.html#l00541">Main.legend.Legend.lastPressPos</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00541"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a799e175afa78a82581030b6d6a927899">00541</a> 
<a name="l00542"></a>00542     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a799e175afa78a82581030b6d6a927899">mousePressEvent</a>(self, event):
<a name="l00543"></a>00543         <span class="stringliteral">&quot;&quot;&quot; Mouse press event to manage the layers drag &quot;&quot;&quot;</span>
<a name="l00544"></a>00544         
<a name="l00545"></a>00545         <span class="comment"># Need this to stop user from clicking the legend while making line or polygon edits.</span>
<a name="l00546"></a>00546         <span class="keywordflow">if</span> self.mainwindow.appStateChanged(<span class="stringliteral">&quot;legendMousePress&quot;</span>) == <span class="stringliteral">&quot;Cancel&quot;</span>: <span class="keywordflow">return</span>
<a name="l00547"></a>00547         
<a name="l00548"></a>00548         <span class="keywordflow">if</span> (event.button() == QtCore.Qt.LeftButton):
<a name="l00549"></a>00549             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a9f88f6b6027c8cada54c5cece84e8022">lastPressPos</a> = event.pos()
<a name="l00550"></a>00550             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a47ff7cdecb67f1477a86074f13ce3a4b">bMousePressedFlag</a> = <span class="keyword">True</span>
<a name="l00551"></a>00551         QtGui.QTreeWidget.mousePressEvent(self, event)

</pre></div>
</div>
</div>
<a class="anchor" id="ad51cf320373066c8ce7656f902b5bfd2"></a><!-- doxytag: member="Main::legend::Legend::mouseReleaseEvent" ref="ad51cf320373066c8ce7656f902b5bfd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#ad51cf320373066c8ce7656f902b5bfd2">Main.legend.Legend.mouseReleaseEvent</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Mouse release event to manage the layers drag </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00597">597</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.bMousePressedFlag</a>, <a class="el" href="legend_8py_source.html#l00879">Main.legend.Legend.checkLayerOrderUpdate()</a>, and <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.itemBeingMoved</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00597"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#ad51cf320373066c8ce7656f902b5bfd2">00597</a> 
<a name="l00598"></a>00598     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#ad51cf320373066c8ce7656f902b5bfd2">mouseReleaseEvent</a>(self, event):
<a name="l00599"></a>00599         <span class="stringliteral">&quot;&quot;&quot; Mouse release event to manage the layers drag &quot;&quot;&quot;</span>
<a name="l00600"></a>00600         QtGui.QTreeWidget.mouseReleaseEvent(self, event)
<a name="l00601"></a>00601         self.setCursor(QtCore.Qt.ArrowCursor)
<a name="l00602"></a>00602         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a47ff7cdecb67f1477a86074f13ce3a4b">bMousePressedFlag</a> = <span class="keyword">False</span>
<a name="l00603"></a>00603 
<a name="l00604"></a>00604         <span class="keywordflow">if</span> (<span class="keywordflow">not</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a>): <span class="keywordflow">return</span>
<a name="l00605"></a>00605 
<a name="l00606"></a>00606         dest = self.itemAt(event.pos())
<a name="l00607"></a>00607         origin = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a>
<a name="l00608"></a>00608         <span class="keywordflow">if</span> ((<span class="keywordflow">not</span> dest) <span class="keywordflow">or</span> (<span class="keywordflow">not</span> origin)): <span class="comment"># Release out of the legend</span>
<a name="l00609"></a>00609             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ac3e1bd7fb7999adee0f1e1dcbe31a99c">checkLayerOrderUpdate</a>()
<a name="l00610"></a>00610             <span class="keywordflow">return</span>
<a name="l00611"></a>00611 
<a name="l00612"></a>00612         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ac3e1bd7fb7999adee0f1e1dcbe31a99c">checkLayerOrderUpdate</a>()
<a name="l00613"></a>00613         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">itemBeingMoved</a> = <span class="keywordtype">None</span>

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_ad51cf320373066c8ce7656f902b5bfd2_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_ad51cf320373066c8ce7656f902b5bfd2_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_ad51cf320373066c8ce7656f902b5bfd2_cgraph" id="class_main_1_1legend_1_1_legend_ad51cf320373066c8ce7656f902b5bfd2_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ac3e1bd7fb7999adee0f1e1dcbe31a99c" title="Main.legend.Legend.checkLayerOrderUpdate" alt="" coords="315,5,597,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a48c59b9f285bcf397713573deaabf520"></a><!-- doxytag: member="Main::legend::Legend::moveItem" ref="a48c59b9f285bcf397713573deaabf520" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a48c59b9f285bcf397713573deaabf520">Main.legend.Legend.moveItem</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>itemToMove</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>afterItem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Move the itemToMove after the afterItem in the legend </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00872">872</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00552">Main.legend.Legend.mouseMoveEvent()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00872"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a48c59b9f285bcf397713573deaabf520">00872</a> 
<a name="l00873"></a>00873     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a48c59b9f285bcf397713573deaabf520">moveItem</a>(self, itemToMove, afterItem):
<a name="l00874"></a>00874         <span class="stringliteral">&quot;&quot;&quot; Move the itemToMove after the afterItem in the legend &quot;&quot;&quot;</span>
<a name="l00875"></a>00875         itemToMove.storeAppearanceSettings() <span class="comment"># Store settings in the moved item</span>
<a name="l00876"></a>00876         self.takeTopLevelItem(self.indexOfTopLevelItem(itemToMove))
<a name="l00877"></a>00877         self.insertTopLevelItem(self.indexOfTopLevelItem(afterItem) + 1, itemToMove)
<a name="l00878"></a>00878         itemToMove.restoreAppearanceSettings() <span class="comment"># Apply the settings again</span>

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a48c59b9f285bcf397713573deaabf520_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a48c59b9f285bcf397713573deaabf520_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a48c59b9f285bcf397713573deaabf520_icgraph" id="class_main_1_1legend_1_1_legend_a48c59b9f285bcf397713573deaabf520_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9" title="Main.legend.Legend.mouseMoveEvent" alt="" coords="251,5,493,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3d2862cfeefc51fb768d9865fa5ed882"></a><!-- doxytag: member="Main::legend::Legend::nextSibling" ref="a3d2862cfeefc51fb768d9865fa5ed882" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a3d2862cfeefc51fb768d9865fa5ed882">Main.legend.Legend.nextSibling</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Return the next layer item based on a given item </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00865">865</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00865"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a3d2862cfeefc51fb768d9865fa5ed882">00865</a> 
<a name="l00866"></a>00866     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a3d2862cfeefc51fb768d9865fa5ed882">nextSibling</a>(self, item):
<a name="l00867"></a>00867         <span class="stringliteral">&quot;&quot;&quot; Return the next layer item based on a given item &quot;&quot;&quot;</span>
<a name="l00868"></a>00868         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00869"></a>00869             <span class="keywordflow">if</span> item.layerId == self.topLevelItem(i).layerId: <span class="keywordflow">break</span>
<a name="l00870"></a>00870         <span class="keywordflow">if</span> i &lt; self.topLevelItemCount(): <span class="keywordflow">return</span> self.topLevelItem(i + 1)                                           
<a name="l00871"></a>00871         <span class="keywordflow">else</span>: <span class="keywordflow">return</span> <span class="keywordtype">None</span>
 
</pre></div>
</div>
</div>
<a class="anchor" id="a922445a671e3553a000f7d9c6b3f481b"></a><!-- doxytag: member="Main::legend::Legend::normalizeLayerName" ref="a922445a671e3553a000f7d9c6b3f481b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a922445a671e3553a000f7d9c6b3f481b">Main.legend.Legend.normalizeLayerName</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Create an alias to put in the legend and avoid to repeat names </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00901">901</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00908">Main.legend.Legend.createUniqueName()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00901"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a922445a671e3553a000f7d9c6b3f481b">00901</a> 
<a name="l00902"></a>00902     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a922445a671e3553a000f7d9c6b3f481b">normalizeLayerName</a>(self, name):
<a name="l00903"></a>00903         <span class="stringliteral">&quot;&quot;&quot; Create an alias to put in the legend and avoid to repeat names &quot;&quot;&quot;</span>
<a name="l00904"></a>00904         <span class="comment"># Remove the extension</span>
<a name="l00905"></a>00905         <span class="keywordflow">if</span> len(name) &gt; 4:
<a name="l00906"></a>00906             <span class="keywordflow">if</span> name[-4] == <span class="stringliteral">&#39;.&#39;</span>: name = name[:-4]
<a name="l00907"></a>00907         <span class="keywordflow">return</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#af9fc4d536f2b6a115ce46f48819d0cea">createUniqueName</a>(name)

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a922445a671e3553a000f7d9c6b3f481b_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a922445a671e3553a000f7d9c6b3f481b_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a922445a671e3553a000f7d9c6b3f481b_cgraph" id="class_main_1_1legend_1_1_legend_a922445a671e3553a000f7d9c6b3f481b_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#af9fc4d536f2b6a115ce46f48819d0cea" title="Main.legend.Legend.createUniqueName" alt="" coords="318,5,570,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a32e224479e5f4720eece79693810e523"></a><!-- doxytag: member="Main::legend::Legend::refreshLayerSymbology" ref="a32e224479e5f4720eece79693810e523" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523">Main.legend.Legend.refreshLayerSymbology</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Refresh the layer symbology </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00930">930</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00748">Main.legend.Legend.layerSymbology()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00930"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523">00930</a> 
<a name="l00931"></a>00931     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523">refreshLayerSymbology</a>(self, layer):
<a name="l00932"></a>00932         <span class="stringliteral">&quot;&quot;&quot; Refresh the layer symbology &quot;&quot;&quot;</span>
<a name="l00933"></a>00933         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00934"></a>00934             item = self.topLevelItem(i)
<a name="l00935"></a>00935             <span class="keywordflow">if</span> layer.id() == item.layerId:
<a name="l00936"></a>00936                 item.vectorLayerSymbology(layer)
<a name="l00937"></a>00937                 self.canvas.refresh()
<a name="l00938"></a>00938                 <span class="keywordflow">break</span>

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a32e224479e5f4720eece79693810e523_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a32e224479e5f4720eece79693810e523_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a32e224479e5f4720eece79693810e523_icgraph" id="class_main_1_1legend_1_1_legend_a32e224479e5f4720eece79693810e523_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3" title="Main.legend.Legend.layerSymbology" alt="" coords="333,5,568,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="616,5,808,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="857,5,1061,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acbec5c3606c0e20000044b14b91a1898"></a><!-- doxytag: member="Main::legend::Legend::removeAll" ref="acbec5c3606c0e20000044b14b91a1898" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#acbec5c3606c0e20000044b14b91a1898">Main.legend.Legend.removeAll</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Remove all legend items </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l01032">1032</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01032"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#acbec5c3606c0e20000044b14b91a1898">01032</a> 
<a name="l01033"></a>01033     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#acbec5c3606c0e20000044b14b91a1898">removeAll</a>(self):
<a name="l01034"></a>01034         <span class="stringliteral">&quot;&quot;&quot; Remove all legend items &quot;&quot;&quot;</span>
<a name="l01035"></a>01035         self.clear()
        self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>()         </pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_acbec5c3606c0e20000044b14b91a1898_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_acbec5c3606c0e20000044b14b91a1898_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_acbec5c3606c0e20000044b14b91a1898_cgraph" id="class_main_1_1legend_1_1_legend_acbec5c3606c0e20000044b14b91a1898_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="254,5,487,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="537,5,749,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6e253be72b9d5505bd80b7f4b5bed06e"></a><!-- doxytag: member="Main::legend::Legend::removeCurrentLayer" ref="a6e253be72b9d5505bd80b7f4b5bed06e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e">Main.legend.Legend.removeCurrentLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Slot. Manage the removeCurrentLayer action in the context Menu </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00670">670</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00949">Main.legend.Legend.deleteEditingLayer()</a>, <a class="el" href="dlgscenarioedittypes_8py_source.html#l00044">Main.dlgscenarioedittypes.DlgScenarioEditTypes.mainwindow</a>, <a class="el" href="dlgsftpproperties_8py_source.html#l00045">Main.dlgsftpproperties.DlgSftpProperties.mainwindow</a>, <a class="el" href="dlgmanageprojects_8py_source.html#l00046">Main.dlgmanageprojects.DlgManageProjects.mainwindow</a>, <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.mainwindow</a>, <a class="el" href="prepareforsetupexe_8py_source.html#l00062">prepareforsetupexe.name</a>, <a class="el" href="legend_8py_source.html#l00965">Main.legend.Legend.removeEditLayerFromRegistry()</a>, <a class="el" href="legend_8py_source.html#l00785">Main.legend.Legend.removeLegendLayer()</a>, <a class="el" href="legend_8py_source.html#l01013">Main.legend.Legend.setActiveLayerVariables()</a>, and <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00523">Main.legend.Legend.getMenu()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00670"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e">00670</a> 
<a name="l00671"></a>00671     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e">removeCurrentLayer</a>(self):
<a name="l00672"></a>00672         <span class="stringliteral">&quot;&quot;&quot; Slot. Manage the removeCurrentLayer action in the context Menu &quot;&quot;&quot;</span>
<a name="l00673"></a>00673         <span class="comment"># debugging</span>
<a name="l00674"></a>00674         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Mainwindow.legend.removeCurrentLayer()&quot;</span>
<a name="l00675"></a>00675        
<a name="l00676"></a>00676         <span class="stringliteral">&#39;&#39;&#39; Check and warn on removing an editing layer &#39;&#39;&#39;</span>
<a name="l00677"></a>00677         
<a name="l00678"></a>00678         name = unicode(self.currentItem().canvasLayer.layer().<a class="code" href="namespaceprepareforsetupexe.html#a43a37d0b3fcb153f6f84599e4bb38b50">name</a>())
<a name="l00679"></a>00679         <span class="keywordflow">if</span> name <span class="keywordflow">in</span> config.editLayersBaseNames:
<a name="l00680"></a>00680             reply = QtGui.QMessageBox.warning(self, <span class="stringliteral">&quot;Warning!&quot;</span>, <span class="stringliteral">&quot;Removing &#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39; \</span>
<a name="l00681"></a>00681 <span class="stringliteral">from the legend will cause all that layer&#39;s files and any associated &#39;Export Scenario&#39; file to be deleted from \</span>
<a name="l00682"></a>00682 <span class="stringliteral">the file system. All changes to these files will be lost. Do you want to delete this file(s)?&quot;</span>, 
<a name="l00683"></a>00683                                                         QtGui.QMessageBox.No|QtGui.QMessageBox.Yes)
<a name="l00684"></a>00684             <span class="keywordflow">if</span> reply == QtGui.QMessageBox.No: <span class="keywordflow">return</span> <span class="comment"># user canceled so don&#39;t remove layer</span>
<a name="l00685"></a>00685             <span class="keywordflow">else</span>: 
<a name="l00686"></a>00686                 <span class="comment"># user chose ok so we can delete the file but must remove from registry first!</span>
<a name="l00687"></a>00687                 layer = self.currentItem().canvasLayer.layer()
<a name="l00688"></a>00688                 name = unicode(layer.name()) 
<a name="l00689"></a>00689                 layerId = self.currentItem().canvasLayer.layer().id()
<a name="l00690"></a>00690                 <span class="comment"># get the path before we set the activeVLayer to none</span>
<a name="l00691"></a>00691                 editFilePath = unicode(self.mainwindow.activeVLayer.source())
<a name="l00692"></a>00692                 <span class="comment"># since we are deleting an editing layer we should be safe and </span>
<a name="l00693"></a>00693                 <span class="comment"># remove any exported scenario files.</span>
<a name="l00694"></a>00694                 self.mainwindow.deleteExportScenarioFile()
<a name="l00695"></a>00695                 <span class="comment"># remove the layer from the registry</span>
<a name="l00696"></a>00696                 self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf">removeEditLayerFromRegistry</a>(layer, layerId, <span class="keyword">True</span>)
<a name="l00697"></a>00697                 <span class="comment"># and delete the editing layer</span>
<a name="l00698"></a>00698                 self.<a class="code" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288">deleteEditingLayer</a>(editFilePath)
<a name="l00699"></a>00699                 <span class="comment"># remove the layer from the coloredLayers dictionary</span>
<a name="l00700"></a>00700                 self.mainwindow.coloredLayers.pop(name, <span class="keywordtype">None</span>)
<a name="l00701"></a>00701                 
<a name="l00702"></a>00702                 <span class="comment"># debugging</span>
<a name="l00703"></a>00703                 <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.Legend.removeCurrentLayer(): The coloredLayers are: &quot;</span>
<a name="l00704"></a>00704                 <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.mainwindow.coloredLayers.iteritems():
<a name="l00705"></a>00705                     <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, str(v.getRgb()))
<a name="l00706"></a>00706                     
<a name="l00707"></a>00707                 <span class="comment"># If we have deleted the edit layer for current scenario edit type, then</span>
<a name="l00708"></a>00708                 <span class="comment"># reset the editLayerName and the editDirty flag.</span>
<a name="l00709"></a>00709                 <span class="keywordflow">if</span> name == self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.editLayerName:
<a name="l00710"></a>00710                     self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.editLayerName = <span class="keywordtype">None</span>
<a name="l00711"></a>00711                     self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.editDirty = <span class="keyword">False</span>
<a name="l00712"></a>00712                 <span class="keywordflow">return</span> <span class="comment"># we are done deleting the layer so return</span>
<a name="l00713"></a>00713         
<a name="l00714"></a>00714         <span class="stringliteral">&#39;&#39;&#39; </span>
<a name="l00715"></a>00715 <span class="stringliteral">            Note that this section handles a layer whether it is a raster or vector</span>
<a name="l00716"></a>00716 <span class="stringliteral">            and NOT an editing layer.</span>
<a name="l00717"></a>00717 <span class="stringliteral">        &#39;&#39;&#39;</span>
<a name="l00718"></a>00718            
<a name="l00719"></a>00719         <span class="comment"># Remove the layer from the &quot;mainwindow.originalScenarioLayers&quot; list and </span>
<a name="l00720"></a>00720         <span class="comment"># set the scenario as dirty, since it has been changed.</span>
<a name="l00721"></a>00721         <span class="keywordflow">if</span> self.currentItem().canvasLayer.layer() <span class="keywordflow">in</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.originalScenarioLayers:
<a name="l00722"></a>00722             layerToDelete = self.currentItem().canvasLayer.layer()
<a name="l00723"></a>00723             <span class="keywordflow">print</span> (<span class="stringliteral">&quot;Mainwindow.legend.removeCurrentLayer(): length originalScenarioLayers before removal &quot;</span> 
<a name="l00724"></a>00724                                                                     + str(len(self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.originalScenarioLayers)))
<a name="l00725"></a>00725             self.mainwindow.originalScenarioLayers.remove(layerToDelete)
<a name="l00726"></a>00726             <span class="keywordflow">print</span> (<span class="stringliteral">&quot;Mainwindow.legend.removeCurrentLayer(): length originalScenarioLayers after removal &quot;</span> 
<a name="l00727"></a>00727                                                                     + str(len(self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.originalScenarioLayers)))
<a name="l00728"></a>00728             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.scenarioDirty = <span class="keyword">True</span>
<a name="l00729"></a>00729             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Mainwindow.legend.removeCurrentLayer(): layer was removed from originalScenarioLayers&quot;</span>
<a name="l00730"></a>00730             
<a name="l00731"></a>00731         <span class="comment"># be Layer ready to be removed so reset active layer variables to none or we could</span>
<a name="l00732"></a>00732         <span class="comment">#  get C++ object deleted runtime errors from deleting an object underlying a python variable.</span>
<a name="l00733"></a>00733         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2">setActiveLayerVariables</a>()
<a name="l00734"></a>00734         
<a name="l00735"></a>00735         <span class="comment"># remove layer from the registry</span>
<a name="l00736"></a>00736         layerId = self.currentItem().canvasLayer.layer().id()
<a name="l00737"></a>00737         QgsMapLayerRegistry.instance().removeMapLayer(layerId)
<a name="l00738"></a>00738         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c">removeLegendLayer</a>(self.currentItem())
<a name="l00739"></a>00739         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>()
<a name="l00740"></a>00740         <span class="comment"># remove the layer from the coloredLayers dictionary</span>
<a name="l00741"></a>00741         self.mainwindow.coloredLayers.pop(name, <span class="keywordtype">None</span>)
<a name="l00742"></a>00742         
<a name="l00743"></a>00743         <span class="comment"># debugging</span>
<a name="l00744"></a>00744         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.Legend.removeCurrentLayer(): The coloredLayers are: &quot;</span>
<a name="l00745"></a>00745         <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.mainwindow.coloredLayers.iteritems():
<a name="l00746"></a>00746             <span class="keywordflow">print</span> <span class="stringliteral">&quot;%s: %s&quot;</span> % (k, str(v.getRgb()))
<a name="l00747"></a>00747         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Mainwindow.legend.removeCurrentLayer(): The deleted color is &quot;</span> + str(self.mainwindow.coloredLayers.pop(name, <span class="keywordtype">None</span>))

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_cgraph" id="class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288" title="Main.legend.Legend.deleteEditingLayer" alt="" coords="346,5,595,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="313,157,629,184"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2" title="Main.legend.Legend.setActiveLayerVariables" alt="" coords="694,107,975,133"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c" title="Main.legend.Legend.removeLegendLayer" alt="" coords="1041,107,1298,133"/><area shape="rect" id="node13" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="718,208,951,235"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89" title="Main.legend.Legend.removeLayerFromLegendById" alt="" coords="678,157,991,184"/><area shape="rect" id="node15" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="1063,208,1275,235"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_icgraph" id="class_main_1_1legend_1_1_legend_a6e253be72b9d5505bd80b7f4b5bed06e_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="312,5,504,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="553,5,757,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23d33c8587e0a753de17c9970c74a8cf"></a><!-- doxytag: member="Main::legend::Legend::removeEditLayerFromRegistry" ref="a23d33c8587e0a753de17c9970c74a8cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf">Main.legend.Legend.removeEditLayerFromRegistry</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>layerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>removeCurrentLayer</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Remove an editing layer from the registry, but clean up first. </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00965">965</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="dlgscenarioedittypes_8py_source.html#l00044">Main.dlgscenarioedittypes.DlgScenarioEditTypes.mainwindow</a>, <a class="el" href="dlgsftpproperties_8py_source.html#l00045">Main.dlgsftpproperties.DlgSftpProperties.mainwindow</a>, <a class="el" href="dlgmanageprojects_8py_source.html#l00046">Main.dlgmanageprojects.DlgManageProjects.mainwindow</a>, <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.mainwindow</a>, <a class="el" href="legend_8py_source.html#l01024">Main.legend.Legend.removeLayerFromLegendById()</a>, <a class="el" href="legend_8py_source.html#l01013">Main.legend.Legend.setActiveLayerVariables()</a>, and <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00670">Main.legend.Legend.removeCurrentLayer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00965"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf">00965</a> 
<a name="l00966"></a>00966     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf">removeEditLayerFromRegistry</a>(self, layer, layerId, removeCurrentLayer = False):
<a name="l00967"></a>00967         <span class="stringliteral">&#39;&#39;&#39; Remove an editing layer from the registry, but clean up first. &#39;&#39;&#39;</span>
<a name="l00968"></a>00968         <span class="comment"># debugging</span>
<a name="l00969"></a>00969         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.removeEditLayerFrom Registry()&quot;</span>
<a name="l00970"></a>00970         
<a name="l00971"></a>00971         inOriginalScenario = <span class="keyword">False</span>
<a name="l00972"></a>00972         originalScenarioLayers = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.originalScenarioLayers
<a name="l00973"></a>00973         <span class="keywordflow">if</span> layer <span class="keywordflow">in</span> originalScenarioLayers:
<a name="l00974"></a>00974             <span class="keywordflow">print</span> (<span class="stringliteral">&quot;Main.legend.removeEditLayerFrom Registry(): length originalScenarioLayers before removal &quot;</span>
<a name="l00975"></a>00975                                                                                 + str(len(originalScenarioLayers)))
<a name="l00976"></a>00976             originalScenarioLayers.remove(layer)
<a name="l00977"></a>00977             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.scenarioDirty = <span class="keyword">True</span>
<a name="l00978"></a>00978             <span class="keywordflow">print</span> <span class="stringliteral">&#39;Main.legend.removeEditLayerFrom Registry(): The activeVLayer was removed from the originalScenarioLayers&#39;</span>
<a name="l00979"></a>00979             <span class="keywordflow">print</span> (<span class="stringliteral">&#39;Main.legend.removeEditLayerFrom Registry(): length originalScenarioLayers after removal &#39;</span> 
<a name="l00980"></a>00980                                                                                         + str(len(originalScenarioLayers)))
<a name="l00981"></a>00981             inOriginalScenario = <span class="keyword">True</span>
<a name="l00982"></a>00982         
<a name="l00983"></a>00983         <span class="comment"># This method is called by self.removeCurrentLayer() and Tools.shared.updateExtents().</span>
<a name="l00984"></a>00984         <span class="comment"># The method is also called by Main.mainwindow.checkScenarioState(), where the layer to </span>
<a name="l00985"></a>00985         <span class="comment"># be removed is probably not the activeVLayer. In fact the activeVLayer</span>
<a name="l00986"></a>00986         <span class="comment"># could be &quot;None,&quot; or the active layer could be a raster. If the layer is the </span>
<a name="l00987"></a>00987         <span class="comment"># activeVLayer, we need to reset activeVLayer variables after removing the layer from the </span>
<a name="l00988"></a>00988         <span class="comment"># registry, so we need to record the layer id of the activeVLayer before we delete it.</span>
<a name="l00989"></a>00989         activeVLayerId = <span class="keywordtype">None</span>
<a name="l00990"></a>00990         <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.activeVLayer:
<a name="l00991"></a>00991             activeVLayerId = self.mainwindow.activeVLayer.id()
<a name="l00992"></a>00992         
<a name="l00993"></a>00993         <span class="comment"># Remove the layer from the registry</span>
<a name="l00994"></a>00994         QgsMapLayerRegistry.instance().removeMapLayer(layerId)
<a name="l00995"></a>00995         
<a name="l00996"></a>00996         <span class="comment"># if the removed layer is the current activeVLayer, reset all associated variables</span>
<a name="l00997"></a>00997         <span class="keywordflow">if</span> activeVLayerId == layerId:
<a name="l00998"></a>00998             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2">setActiveLayerVariables</a>() 
<a name="l00999"></a>00999        
<a name="l01000"></a>01000         <span class="comment"># If the calling action is removeCurrent layer, we need to let signals proceed normally.</span>
<a name="l01001"></a>01001         <span class="comment"># If the calling action is shared.updateExtents or mainwindow.chkScenarioState then</span>
<a name="l01002"></a>01002         <span class="comment"># we do not because either a new layer will immediately load or the app will close.</span>
<a name="l01003"></a>01003         <span class="keywordflow">if</span> removeCurrentLayer:
<a name="l01004"></a>01004             <span class="comment"># Layer is successfully removed from registry so remove it from legend.</span>
<a name="l01005"></a>01005             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89">removeLayerFromLegendById</a>(layerId)
<a name="l01006"></a>01006             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>()
<a name="l01007"></a>01007         <span class="keywordflow">else</span>:
<a name="l01008"></a>01008             self.blockSignals(<span class="keyword">True</span>)
<a name="l01009"></a>01009             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89">removeLayerFromLegendById</a>(layerId)
<a name="l01010"></a>01010             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>()
<a name="l01011"></a>01011             self.blockSignals(<span class="keyword">False</span>)
<a name="l01012"></a>01012             <span class="keywordflow">return</span> inOriginalScenario
 
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_cgraph" id="class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89" title="Main.legend.Legend.removeLayerFromLegendById" alt="" coords="371,5,685,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2" title="Main.legend.Legend.setActiveLayerVariables" alt="" coords="387,56,669,83"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="411,107,645,133"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c" title="Main.legend.Legend.removeLegendLayer" alt="" coords="734,5,991,32"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="757,107,969,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_icgraph" id="class_main_1_1legend_1_1_legend_a23d33c8587e0a753de17c9970c74a8cf_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="371,5,629,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="677,5,869,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="918,5,1122,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeec05f97d1a38926e9485fe39edd3c89"></a><!-- doxytag: member="Main::legend::Legend::removeLayerFromLegendById" ref="aeec05f97d1a38926e9485fe39edd3c89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89">Main.legend.Legend.removeLayerFromLegendById</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>layerId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l01024">1024</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00785">Main.legend.Legend.removeLegendLayer()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00965">Main.legend.Legend.removeEditLayerFromRegistry()</a>, and <a class="el" href="legend_8py_source.html#l00939">Main.legend.Legend.removeLayers()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01024"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89">01024</a> 
<a name="l01025"></a>01025     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89">removeLayerFromLegendById</a>(self, layerId):
<a name="l01026"></a>01026         <span class="comment"># Remove the legend item</span>
<a name="l01027"></a>01027         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l01028"></a>01028             item = self.topLevelItem(i)
<a name="l01029"></a>01029             <span class="keywordflow">if</span> layerId == item.layerId:
<a name="l01030"></a>01030                 self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c">removeLegendLayer</a>(item)
<a name="l01031"></a>01031                 <span class="keywordflow">break</span>
            
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_cgraph" id="class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c" title="Main.legend.Legend.removeLegendLayer" alt="" coords="369,5,626,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_icgraph" id="class_main_1_1legend_1_1_legend_aeec05f97d1a38926e9485fe39edd3c89_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="369,5,685,32"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729" title="Main.legend.Legend.removeLayers" alt="" coords="415,56,638,83"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="734,5,991,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="1040,5,1232,32"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="1281,5,1485,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="add530616509409066991977ff0d53729"></a><!-- doxytag: member="Main::legend::Legend::removeLayers" ref="add530616509409066991977ff0d53729" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729">Main.legend.Legend.removeLayers</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>layerIds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Remove layers from their ids. For plugins. </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00939">939</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l01024">Main.legend.Legend.removeLayerFromLegendById()</a>, and <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00939"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729">00939</a> 
<a name="l00940"></a>00940     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729">removeLayers</a>(self, layerIds):
<a name="l00941"></a>00941         <span class="stringliteral">&quot;&quot;&quot; Remove layers from their ids. For plugins. &quot;&quot;&quot;</span>
<a name="l00942"></a>00942         <span class="keywordflow">for</span> layerId <span class="keywordflow">in</span> layerIds:
<a name="l00943"></a>00943             QgsMapLayerRegistry.instance().removeMapLayer(layerId)
<a name="l00944"></a>00944 
<a name="l00945"></a>00945             <span class="comment"># Remove the legend item</span>
<a name="l00946"></a>00946             self.<a class="code" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89">removeLayerFromLegendById</a>(layerId)
<a name="l00947"></a>00947 
<a name="l00948"></a>00948         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>()
        
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_add530616509409066991977ff0d53729_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_add530616509409066991977ff0d53729_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_add530616509409066991977ff0d53729_cgraph" id="class_main_1_1legend_1_1_legend_add530616509409066991977ff0d53729_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89" title="Main.legend.Legend.removeLayerFromLegendById" alt="" coords="278,5,591,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="318,56,551,83"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c" title="Main.legend.Legend.removeLegendLayer" alt="" coords="641,5,898,32"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="663,56,875,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a02afdc0325b2e9f264d7fa5ddecf902c"></a><!-- doxytag: member="Main::legend::Legend::removeLegendLayer" ref="a02afdc0325b2e9f264d7fa5ddecf902c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c">Main.legend.Legend.removeLegendLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>legendLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Remove a layer item in the legend </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00785">785</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00670">Main.legend.Legend.removeCurrentLayer()</a>, and <a class="el" href="legend_8py_source.html#l01024">Main.legend.Legend.removeLayerFromLegendById()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00785"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c">00785</a> 
<a name="l00786"></a>00786     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c">removeLegendLayer</a>(self, legendLayer):
<a name="l00787"></a>00787         <span class="stringliteral">&quot;&quot;&quot; Remove a layer item in the legend &quot;&quot;&quot;</span>
<a name="l00788"></a>00788         <span class="keywordflow">if</span> self.topLevelItemCount() == 1: self.clear()
<a name="l00789"></a>00789         <span class="keywordflow">else</span>: <span class="comment"># Manage the currentLayer before the remove</span>
<a name="l00790"></a>00790             indice = self.indexOfTopLevelItem(legendLayer)
<a name="l00791"></a>00791             <span class="keywordflow">if</span> indice == 0:
<a name="l00792"></a>00792                 newCurrentItem = self.topLevelItem(indice + 1)
<a name="l00793"></a>00793             <span class="keywordflow">else</span>:
<a name="l00794"></a>00794                 newCurrentItem = self.topLevelItem(indice - 1)
<a name="l00795"></a>00795 
<a name="l00796"></a>00796             self.setCurrentItem(newCurrentItem)
<a name="l00797"></a>00797             self.takeTopLevelItem(self.indexOfTopLevelItem(legendLayer))

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a02afdc0325b2e9f264d7fa5ddecf902c_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a02afdc0325b2e9f264d7fa5ddecf902c_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a02afdc0325b2e9f264d7fa5ddecf902c_icgraph" id="class_main_1_1legend_1_1_legend_a02afdc0325b2e9f264d7fa5ddecf902c_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="1041,5,1298,32"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89" title="Main.legend.Legend.removeLayerFromLegendById" alt="" coords="313,31,626,57"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="1347,5,1539,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="1587,5,1791,32"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="675,31,991,57"/><area shape="rect" id="node14" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729" title="Main.legend.Legend.removeLayers" alt="" coords="722,81,945,108"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad75ee2f2516b5404d4881e3a3418cea2"></a><!-- doxytag: member="Main::legend::Legend::setActiveLayerVariables" ref="ad75ee2f2516b5404d4881e3a3418cea2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2">Main.legend.Legend.setActiveLayerVariables</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Reset the variable to avoid c++ runtime errors for deleted objects </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l01013">1013</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="dlgscenarioedittypes_8py_source.html#l00044">Main.dlgscenarioedittypes.DlgScenarioEditTypes.mainwindow</a>, <a class="el" href="dlgsftpproperties_8py_source.html#l00045">Main.dlgsftpproperties.DlgSftpProperties.mainwindow</a>, <a class="el" href="dlgmanageprojects_8py_source.html#l00046">Main.dlgmanageprojects.DlgManageProjects.mainwindow</a>, and <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.mainwindow</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00670">Main.legend.Legend.removeCurrentLayer()</a>, and <a class="el" href="legend_8py_source.html#l00965">Main.legend.Legend.removeEditLayerFromRegistry()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01013"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2">01013</a> 
<a name="l01014"></a>01014     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2">setActiveLayerVariables</a>(self):
<a name="l01015"></a>01015         <span class="stringliteral">&#39;&#39;&#39; Reset the variable to avoid c++ runtime errors for deleted objects &#39;&#39;&#39;</span>
<a name="l01016"></a>01016         <span class="comment"># debugging</span>
<a name="l01017"></a>01017         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.setActiveLayerVariables()&quot;</span>
<a name="l01018"></a>01018         
<a name="l01019"></a>01019         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.activeRLayer = <span class="keywordtype">None</span>
<a name="l01020"></a>01020         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.activeVLayer = <span class="keywordtype">None</span> 
<a name="l01021"></a>01021         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.geom = <span class="keywordtype">None</span> <span class="comment"># reset activeVLayer information</span>
<a name="l01022"></a>01022         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.provider = <span class="keywordtype">None</span>
<a name="l01023"></a>01023         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">mainwindow</a>.layerType = <span class="keywordtype">None</span>

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_ad75ee2f2516b5404d4881e3a3418cea2_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_ad75ee2f2516b5404d4881e3a3418cea2_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_ad75ee2f2516b5404d4881e3a3418cea2_icgraph" id="class_main_1_1legend_1_1_legend_ad75ee2f2516b5404d4881e3a3418cea2_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="702,5,959,32"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="337,31,653,57"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="1008,5,1200,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="1249,5,1453,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c8948bb024f766d5c8c0333a488a482"></a><!-- doxytag: member="Main::legend::Legend::setCanvas" ref="a9c8948bb024f766d5c8c0333a488a482" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a9c8948bb024f766d5c8c0333a488a482">Main.legend.Legend.setCanvas</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>canvas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Set the base canvas </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00510">510</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.canvas</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00510"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a9c8948bb024f766d5c8c0333a488a482">00510</a> 
<a name="l00511"></a>00511     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a9c8948bb024f766d5c8c0333a488a482">setCanvas</a>(self, canvas):
<a name="l00512"></a>00512         <span class="stringliteral">&quot;&quot;&quot; Set the base canvas &quot;&quot;&quot;</span>
<a name="l00513"></a>00513         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#af3a436f018c4cd53dc81542142bf8b30">canvas</a> = canvas

</pre></div>
</div>
</div>
<a class="anchor" id="a8af5d90bedc94e0f798da40e03756cae"></a><!-- doxytag: member="Main::legend::Legend::setStatusForAllLayers" ref="a8af5d90bedc94e0f798da40e03756cae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a8af5d90bedc94e0f798da40e03756cae">Main.legend.Legend.setStatusForAllLayers</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Show/Hide all layers in the map </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00798">798</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00798"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a8af5d90bedc94e0f798da40e03756cae">00798</a> 
<a name="l00799"></a>00799     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a8af5d90bedc94e0f798da40e03756cae">setStatusForAllLayers</a>(self):
<a name="l00800"></a>00800         <span class="stringliteral">&quot;&quot;&quot; Show/Hide all layers in the map &quot;&quot;&quot;</span>
<a name="l00801"></a>00801         <span class="comment"># debugging</span>
<a name="l00802"></a>00802         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.setStatusForAllLayers()&quot;</span>
<a name="l00803"></a>00803         <span class="comment"># Block SIGNALS to avoid setLayerSet for each item status changed</span>
<a name="l00804"></a>00804         self.blockSignals(<span class="keyword">True</span>)
<a name="l00805"></a>00805 
<a name="l00806"></a>00806         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.topLevelItemCount()):
<a name="l00807"></a>00807             <span class="keywordflow">if</span> self.topLevelItem(i).checkState(0) == QtCore.Qt.Checked:
<a name="l00808"></a>00808                 self.topLevelItem(i).canvasLayer.setVisible(<span class="keyword">True</span>)
<a name="l00809"></a>00809             <span class="keywordflow">else</span>: self.topLevelItem(i).canvasLayer.setVisible(<span class="keyword">False</span>)
<a name="l00810"></a>00810 
<a name="l00811"></a>00811         self.blockSignals(<span class="keyword">False</span>)
<a name="l00812"></a>00812 
<a name="l00813"></a>00813         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>() <span class="comment"># Finally, update the layer set</span>

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a8af5d90bedc94e0f798da40e03756cae_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a8af5d90bedc94e0f798da40e03756cae_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a8af5d90bedc94e0f798da40e03756cae_cgraph" id="class_main_1_1legend_1_1_legend_a8af5d90bedc94e0f798da40e03756cae_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="326,5,559,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="609,5,821,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23b5d4b94cffebed6f9000246b4c9288"></a><!-- doxytag: member="Main::legend::Legend::showMenu" ref="a23b5d4b94cffebed6f9000246b4c9288" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288">Main.legend.Legend.showMenu</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Show a context menu for the active layer in the legend </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00514">514</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00523">Main.legend.Legend.getMenu()</a>, <a class="el" href="legend_8py_source.html#l00849">Main.legend.Legend.isLegendLayer()</a>, and <a class="el" href="legend_8py_source.html#l00514">Main.legend.Legend.menu</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00514"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288">00514</a> 
<a name="l00515"></a>00515     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288">showMenu</a>(self, pos):
<a name="l00516"></a>00516         <span class="stringliteral">&quot;&quot;&quot; Show a context menu for the active layer in the legend &quot;&quot;&quot;</span>
<a name="l00517"></a>00517         item = self.itemAt(pos)
<a name="l00518"></a>00518         <span class="keywordflow">if</span> item:
<a name="l00519"></a>00519             <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(item):
<a name="l00520"></a>00520                 self.setCurrentItem(item)
<a name="l00521"></a>00521                 self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a6cdc44abfd3a173dc296add0dc089c8c">menu</a> = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc">getMenu</a>(item.isVect, item.canvasLayer)
<a name="l00522"></a>00522                 self.menu.popup(QtCore.QPoint(self.mapToGlobal(pos).x() + 5, self.mapToGlobal(pos).y()))

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a23b5d4b94cffebed6f9000246b4c9288_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a23b5d4b94cffebed6f9000246b4c9288_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a23b5d4b94cffebed6f9000246b4c9288_cgraph" id="class_main_1_1legend_1_1_legend_a23b5d4b94cffebed6f9000246b4c9288_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="276,107,468,133"/><area shape="rect" id="node36" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60" title="Main.legend.Legend.isLegendLayer" alt="" coords="259,157,485,184"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#adb4bf8b655847c305ebc0972fea72248" title="Main.legend.Legend.collapseAll" alt="" coords="560,5,765,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a5cc17b9ee93882597d42f47a894b4731" title="Main.legend.Legend.expandAll" alt="" coords="563,56,762,83"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a24843b8136cbb6a860679c634a2749b3" title="Main.legend.Legend.layerSymbology" alt="" coords="545,107,780,133"/><area shape="rect" id="node13" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="534,157,791,184"/><area shape="rect" id="node32" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b" title="Main.legend.Legend.zoomToLayer" alt="" coords="553,259,773,285"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#a32e224479e5f4720eece79693810e523" title="Main.legend.Legend.refreshLayerSymbology" alt="" coords="859,5,1138,32"/><area shape="rect" id="node15" href="class_main_1_1legend_1_1_legend.html#aa541e80067525773e6696ebcc8985288" title="Main.legend.Legend.deleteEditingLayer" alt="" coords="874,259,1123,285"/><area shape="rect" id="node17" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="841,107,1157,133"/><area shape="rect" id="node21" href="class_main_1_1legend_1_1_legend.html#a02afdc0325b2e9f264d7fa5ddecf902c" title="Main.legend.Legend.removeLegendLayer" alt="" coords="1569,157,1826,184"/><area shape="rect" id="node23" href="class_main_1_1legend_1_1_legend.html#ad75ee2f2516b5404d4881e3a3418cea2" title="Main.legend.Legend.setActiveLayerVariables" alt="" coords="1222,157,1503,184"/><area shape="rect" id="node25" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3" title="Main.legend.Legend.updateLayerSet" alt="" coords="1246,56,1479,83"/><area shape="rect" id="node19" href="class_main_1_1legend_1_1_legend.html#aeec05f97d1a38926e9485fe39edd3c89" title="Main.legend.Legend.removeLayerFromLegendById" alt="" coords="1206,107,1519,133"/><area shape="rect" id="node27" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="1591,56,1803,83"/><area shape="rect" id="node34" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283" title="Main.legend.Legend.zoomToLegendLayer" alt="" coords="867,309,1130,336"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d4d921da2d372e84665c9b24c400990"></a><!-- doxytag: member="Main::legend::Legend::storeInitialPosition" ref="a8d4d921da2d372e84665c9b24c400990" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a8d4d921da2d372e84665c9b24c400990">Main.legend.Legend.storeInitialPosition</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Store the layers order </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00853">853</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00853">Main.legend.Legend.__beforeDragStateLayers</a>, and <a class="el" href="legend_8py_source.html#l00857">Main.legend.Legend.getLayerIDs()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00552">Main.legend.Legend.mouseMoveEvent()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00853"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a8d4d921da2d372e84665c9b24c400990">00853</a> 
<a name="l00854"></a>00854     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a8d4d921da2d372e84665c9b24c400990">storeInitialPosition</a>(self):
<a name="l00855"></a>00855         <span class="stringliteral">&quot;&quot;&quot; Store the layers order &quot;&quot;&quot;</span>
<a name="l00856"></a>00856         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae9c3efe90e240e66a79ccf5710ad9d8f">__beforeDragStateLayers</a> = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6">getLayerIDs</a>()

</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_cgraph" id="class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a058c38ffc644ff330b68d7e9ebd895a6" title="Main.legend.Legend.getLayerIDs" alt="" coords="301,5,512,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_icgraph" id="class_main_1_1legend_1_1_legend_a8d4d921da2d372e84665c9b24c400990_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9" title="Main.legend.Legend.mouseMoveEvent" alt="" coords="301,5,544,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a07c7c0713de97ae6800a9bf1451ecae3"></a><!-- doxytag: member="Main::legend::Legend::updateLayerSet" ref="a07c7c0713de97ae6800a9bf1451ecae3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">Main.legend.Legend.updateLayerSet</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Update the LayerSet and set it to canvas </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00814">814</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00822">Main.legend.Legend.getLayerSet()</a>, and <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.layers</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00619">Main.legend.Legend.addLayer()</a>, <a class="el" href="legend_8py_source.html#l01032">Main.legend.Legend.removeAll()</a>, <a class="el" href="legend_8py_source.html#l00670">Main.legend.Legend.removeCurrentLayer()</a>, <a class="el" href="legend_8py_source.html#l00965">Main.legend.Legend.removeEditLayerFromRegistry()</a>, <a class="el" href="legend_8py_source.html#l00939">Main.legend.Legend.removeLayers()</a>, and <a class="el" href="legend_8py_source.html#l00798">Main.legend.Legend.setStatusForAllLayers()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00814"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">00814</a> 
<a name="l00815"></a>00815     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a07c7c0713de97ae6800a9bf1451ecae3">updateLayerSet</a>(self):
<a name="l00816"></a>00816         <span class="stringliteral">&quot;&quot;&quot; Update the LayerSet and set it to canvas &quot;&quot;&quot;</span>
<a name="l00817"></a>00817         <span class="comment"># debugging</span>
<a name="l00818"></a>00818         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.updateLayerSet()&quot;</span>
<a name="l00819"></a>00819         
<a name="l00820"></a>00820         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a> = self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956">getLayerSet</a>()
<a name="l00821"></a>00821         self.canvas.setLayerSet(self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a>)
 
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_cgraph" id="class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a5fbe7ff1ffc2c6190a490126a2d95956" title="Main.legend.Legend.getLayerSet" alt="" coords="289,5,501,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_icgraph" id="class_main_1_1legend_1_1_legend_a07c7c0713de97ae6800a9bf1451ecae3_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a0d7b50c29a3f42862ba06ee62e4fac79" title="Main.legend.Legend.addLayer" alt="" coords="349,5,544,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#acbec5c3606c0e20000044b14b91a1898" title="Main.legend.Legend.removeAll" alt="" coords="347,56,546,83"/><area shape="rect" id="node9" href="class_main_1_1legend_1_1_legend.html#a6e253be72b9d5505bd80b7f4b5bed06e" title="Main.legend.Legend.removeCurrentLayer" alt="" coords="654,132,911,159"/><area shape="rect" id="node15" href="class_main_1_1legend_1_1_legend.html#a23d33c8587e0a753de17c9970c74a8cf" title="Main.legend.Legend.removeEditLayerFromRegistry" alt="" coords="289,157,605,184"/><area shape="rect" id="node18" href="class_main_1_1legend_1_1_legend.html#add530616509409066991977ff0d53729" title="Main.legend.Legend.removeLayers" alt="" coords="335,208,558,235"/><area shape="rect" id="node20" href="class_main_1_1legend_1_1_legend.html#a8af5d90bedc94e0f798da40e03756cae" title="Main.legend.Legend.setStatusForAllLayers" alt="" coords="311,259,582,285"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#afe85d747b75f4f6b011eb43540748976" title="Main.legend.Legend.addLayerToLegend" alt="" coords="657,5,908,32"/><area shape="rect" id="node11" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="960,132,1152,159"/><area shape="rect" id="node13" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="1201,132,1405,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c19c8aa054771fd00e3c8449e87f0f4"></a><!-- doxytag: member="Main::legend::Legend::updateLayerStatus" ref="a5c19c8aa054771fd00e3c8449e87f0f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a5c19c8aa054771fd00e3c8449e87f0f4">Main.legend.Legend.updateLayerStatus</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Update the layer status </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00628">628</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00849">Main.legend.Legend.isLegendLayer()</a>, and <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.layers</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00628"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a5c19c8aa054771fd00e3c8449e87f0f4">00628</a> 
<a name="l00629"></a>00629     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a5c19c8aa054771fd00e3c8449e87f0f4">updateLayerStatus</a>(self, item):
<a name="l00630"></a>00630         <span class="stringliteral">&quot;&quot;&quot; Update the layer status &quot;&quot;&quot;</span>
<a name="l00631"></a>00631         <span class="comment"># debugging</span>
<a name="l00632"></a>00632         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.updateLayerStatus()&quot;</span>
<a name="l00633"></a>00633         
<a name="l00634"></a>00634         <span class="keywordflow">if</span> (item):
<a name="l00635"></a>00635             <span class="keywordflow">if</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60">isLegendLayer</a>(item): <span class="comment"># Is the item a layer item?</span>
<a name="l00636"></a>00636                 <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.updateLayerStatus(): This is a legend layer item&quot;</span> 
<a name="l00637"></a>00637                 <span class="keywordflow">for</span> i <span class="keywordflow">in</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a>:
<a name="l00638"></a>00638                     <span class="keywordflow">if</span> i.layer().id() == item.layerId:
<a name="l00639"></a>00639                         <span class="keywordflow">if</span> item.checkState(0) == QtCore.Qt.Unchecked:
<a name="l00640"></a>00640                             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.updateLayerStatus(): is not checked&quot;</span>
<a name="l00641"></a>00641                             i.setVisible(<span class="keyword">False</span>)
<a name="l00642"></a>00642                         <span class="keywordflow">else</span>:
<a name="l00643"></a>00643                             <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.updateLayerStatus(): is checked&quot;</span>
<a name="l00644"></a>00644                             i.setVisible(<span class="keyword">True</span>)
<a name="l00645"></a>00645                         self.canvas.setLayerSet(self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a>)
<a name="l00646"></a>00646                         <span class="keywordflow">return</span>
<a name="l00647"></a>00647               
<a name="l00648"></a>00648                 <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.updateLayerStatus(): This is not a legend layer item&quot;</span>
<a name="l00649"></a>00649                 <span class="keywordflow">print</span> <span class="stringliteral">&quot;Main.legend.updateLayerStatus(): The item&#39;s text is &quot;</span> + str(item.text)
                  
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a5c19c8aa054771fd00e3c8449e87f0f4_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a5c19c8aa054771fd00e3c8449e87f0f4_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a5c19c8aa054771fd00e3c8449e87f0f4_cgraph" id="class_main_1_1legend_1_1_legend_a5c19c8aa054771fd00e3c8449e87f0f4_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ae62b43626d58aaeedea8486d62cded60" title="Main.legend.Legend.isLegendLayer" alt="" coords="304,5,531,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4f1648ab9f5276cc3b94874fe0f49c74"></a><!-- doxytag: member="Main::legend::Legend::yCoordAboveCenter" ref="a4f1648ab9f5276cc3b94874fe0f49c74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a4f1648ab9f5276cc3b94874fe0f49c74">Main.legend.Legend.yCoordAboveCenter</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>legendItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ycoord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">
    Return a bool to know if the ycoord is in the above center of the legendItem

    legendItem: The base item to get the above center and the below center
    ycoord: The coordinate of the comparison
</pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00887">887</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00552">Main.legend.Legend.mouseMoveEvent()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00887"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a4f1648ab9f5276cc3b94874fe0f49c74">00887</a> 
<a name="l00888"></a>00888     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a4f1648ab9f5276cc3b94874fe0f49c74">yCoordAboveCenter</a>(self, legendItem, ycoord):
<a name="l00889"></a>00889         <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00890"></a>00890 <span class="stringliteral">            Return a bool to know if the ycoord is in the above center of the legendItem</span>
<a name="l00891"></a>00891 <span class="stringliteral"></span>
<a name="l00892"></a>00892 <span class="stringliteral">            legendItem: The base item to get the above center and the below center</span>
<a name="l00893"></a>00893 <span class="stringliteral">            ycoord: The coordinate of the comparison</span>
<a name="l00894"></a>00894 <span class="stringliteral">        &quot;&quot;&quot;</span>
<a name="l00895"></a>00895         rect = self.visualItemRect(legendItem)
<a name="l00896"></a>00896         height = rect.height()
<a name="l00897"></a>00897         top = rect.top()
<a name="l00898"></a>00898         mid = top + (height / 2)
<a name="l00899"></a>00899         <span class="keywordflow">if</span> (ycoord &gt; mid):  <span class="keywordflow">return</span> <span class="keyword">False</span> <span class="comment"># Bottom, remember the y-coordinate increases downwards</span>
<a name="l00900"></a>00900         <span class="keywordflow">else</span>: <span class="keywordflow">return</span> <span class="keyword">True</span> <span class="comment"># Top</span>

</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a4f1648ab9f5276cc3b94874fe0f49c74_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a4f1648ab9f5276cc3b94874fe0f49c74_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a4f1648ab9f5276cc3b94874fe0f49c74_icgraph" id="class_main_1_1legend_1_1_legend_a4f1648ab9f5276cc3b94874fe0f49c74_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a32bbbd8a359c96ce07febe18d3f0d5d9" title="Main.legend.Legend.mouseMoveEvent" alt="" coords="309,5,552,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a69d560ed7e72e0910abb7f22dedc5e1b"></a><!-- doxytag: member="Main::legend::Legend::zoomToLayer" ref="a69d560ed7e72e0910abb7f22dedc5e1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b">Main.legend.Legend.zoomToLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Slot. Manage the zoomToLayer action in the context Menu </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00666">666</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="legend_8py_source.html#l00775">Main.legend.Legend.zoomToLegendLayer()</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00523">Main.legend.Legend.getMenu()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00666"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b">00666</a> 
<a name="l00667"></a>00667     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b">zoomToLayer</a>(self):
<a name="l00668"></a>00668         <span class="stringliteral">&quot;&quot;&quot; Slot. Manage the zoomToLayer action in the context Menu &quot;&quot;&quot;</span>
<a name="l00669"></a>00669         self.<a class="code" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283">zoomToLegendLayer</a>(self.currentItem())
 
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_cgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_cgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_cgraph" id="class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_cgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283" title="Main.legend.Legend.zoomToLegendLayer" alt="" coords="275,5,538,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_icgraph" id="class_main_1_1legend_1_1_legend_a69d560ed7e72e0910abb7f22dedc5e1b_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="275,5,467,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="515,5,719,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aca871da01014a16c6dbc20ddbe6ec283"></a><!-- doxytag: member="Main::legend::Legend::zoomToLegendLayer" ref="aca871da01014a16c6dbc20ddbe6ec283" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283">Main.legend.Legend.zoomToLegendLayer</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>legendLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Zoom the map to a layer extent </pre></div> 
<p>Definition at line <a class="el" href="legend_8py_source.html#l00775">775</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>References <a class="el" href="snippets_8py_source.html#l00467">snippets.extent</a>, and <a class="el" href="legend_8py_source.html#l00473">Main.legend.Legend.layers</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00666">Main.legend.Legend.zoomToLayer()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00775"></a><a class="code" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283">00775</a> 
<a name="l00776"></a>00776     <span class="keyword">def </span><a class="code" href="class_main_1_1legend_1_1_legend.html#aca871da01014a16c6dbc20ddbe6ec283">zoomToLegendLayer</a>(self, legendLayer):
<a name="l00777"></a>00777         <span class="stringliteral">&quot;&quot;&quot; Zoom the map to a layer extent &quot;&quot;&quot;</span>
<a name="l00778"></a>00778         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> self.<a class="code" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">layers</a>:
<a name="l00779"></a>00779             <span class="keywordflow">if</span> i.layer().id() == legendLayer.layerId:
<a name="l00780"></a>00780                 extent = i.layer().<a class="code" href="namespacesnippets.html#a85a7a32cfe7998e813144aafcb80a360">extent</a>()
<a name="l00781"></a>00781                 extent.scale(1.05)
<a name="l00782"></a>00782                 self.canvas.setExtent(extent)
<a name="l00783"></a>00783                 self.canvas.refresh()
<a name="l00784"></a>00784                 <span class="keywordflow">break</span>
 
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_main_1_1legend_1_1_legend_aca871da01014a16c6dbc20ddbe6ec283_icgraph.png" border="0" usemap="#class_main_1_1legend_1_1_legend_aca871da01014a16c6dbc20ddbe6ec283_icgraph" alt=""/></div>
<map name="class_main_1_1legend_1_1_legend_aca871da01014a16c6dbc20ddbe6ec283_icgraph" id="class_main_1_1legend_1_1_legend_aca871da01014a16c6dbc20ddbe6ec283_icgraph">
<area shape="rect" id="node3" href="class_main_1_1legend_1_1_legend.html#a69d560ed7e72e0910abb7f22dedc5e1b" title="Main.legend.Legend.zoomToLayer" alt="" coords="318,5,538,32"/><area shape="rect" id="node5" href="class_main_1_1legend_1_1_legend.html#ad17f8dbf98abb379b69a9b55569fcbcc" title="Main.legend.Legend.getMenu" alt="" coords="587,5,779,32"/><area shape="rect" id="node7" href="class_main_1_1legend_1_1_legend.html#a23b5d4b94cffebed6f9000246b4c9288" title="Main.legend.Legend.showMenu" alt="" coords="827,5,1031,32"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a396506015bb6aef91616350e0031f169"></a><!-- doxytag: member="Main::legend::Legend::__afterDragStateLayers" ref="a396506015bb6aef91616350e0031f169" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a396506015bb6aef91616350e0031f169">Main::legend.Legend::__afterDragStateLayers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00882">882</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

</div>
</div>
<a class="anchor" id="ae9c3efe90e240e66a79ccf5710ad9d8f"></a><!-- doxytag: member="Main::legend::Legend::__beforeDragStateLayers" ref="ae9c3efe90e240e66a79ccf5710ad9d8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#ae9c3efe90e240e66a79ccf5710ad9d8f">Main::legend.Legend::__beforeDragStateLayers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00853">853</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00853">Main.legend.Legend::storeInitialPosition()</a>.</p>

</div>
</div>
<a class="anchor" id="a47ff7cdecb67f1477a86074f13ce3a4b"></a><!-- doxytag: member="Main::legend::Legend::bMousePressedFlag" ref="a47ff7cdecb67f1477a86074f13ce3a4b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a47ff7cdecb67f1477a86074f13ce3a4b">Main::legend.Legend::bMousePressedFlag</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00473">473</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00552">Main.legend.Legend.mouseMoveEvent()</a>, <a class="el" href="legend_8py_source.html#l00541">Main.legend.Legend.mousePressEvent()</a>, and <a class="el" href="legend_8py_source.html#l00597">Main.legend.Legend.mouseReleaseEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="af3a436f018c4cd53dc81542142bf8b30"></a><!-- doxytag: member="Main::legend::Legend::canvas" ref="af3a436f018c4cd53dc81542142bf8b30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#af3a436f018c4cd53dc81542142bf8b30">Main::legend.Legend::canvas</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00473">473</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="mainwindow_8py_source.html#l01247">Main.mainwindow.MainWindow.deleteFeatures()</a>, <a class="el" href="mainwindow_8py_source.html#l01769">Main.mainwindow.MainWindow.pasteBaseLayerDeletions()</a>, <a class="el" href="legend_8py_source.html#l00510">Main.legend.Legend.setCanvas()</a>, and <a class="el" href="mainwindow_8py_source.html#l01660">Main.mainwindow.MainWindow.setPasteModifySuccess()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b360ba94a8d35e88dfa2e9e041732c3"></a><!-- doxytag: member="Main::legend::Legend::currentColor" ref="a1b360ba94a8d35e88dfa2e9e041732c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a1b360ba94a8d35e88dfa2e9e041732c3">Main::legend.Legend::currentColor</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00473">473</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

</div>
</div>
<a class="anchor" id="a3159076c0d63af28a8a8f13c98f4a647"></a><!-- doxytag: member="Main::legend::Legend::itemBeingMoved" ref="a3159076c0d63af28a8a8f13c98f4a647" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a3159076c0d63af28a8a8f13c98f4a647">Main::legend.Legend::itemBeingMoved</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00473">473</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00552">Main.legend.Legend.mouseMoveEvent()</a>, and <a class="el" href="legend_8py_source.html#l00597">Main.legend.Legend.mouseReleaseEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f88f6b6027c8cada54c5cece84e8022"></a><!-- doxytag: member="Main::legend::Legend::lastPressPos" ref="a9f88f6b6027c8cada54c5cece84e8022" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a9f88f6b6027c8cada54c5cece84e8022">Main::legend.Legend::lastPressPos</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00541">541</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00552">Main.legend.Legend::mouseMoveEvent()</a>, and <a class="el" href="legend_8py_source.html#l00541">Main.legend.Legend::mousePressEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f198b677cd5b95c22f3e5f6c3cfdf25"></a><!-- doxytag: member="Main::legend::Legend::layers" ref="a0f198b677cd5b95c22f3e5f6c3cfdf25" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a0f198b677cd5b95c22f3e5f6c3cfdf25">Main::legend.Legend::layers</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00473">473</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00748">Main.legend.Legend.layerSymbology()</a>, <a class="el" href="legend_8py_source.html#l00814">Main.legend.Legend.updateLayerSet()</a>, <a class="el" href="legend_8py_source.html#l00628">Main.legend.Legend.updateLayerStatus()</a>, and <a class="el" href="legend_8py_source.html#l00775">Main.legend.Legend.zoomToLegendLayer()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a150d746dc19b7351ca488701947b18"></a><!-- doxytag: member="Main::legend::Legend::mainwindow" ref="a2a150d746dc19b7351ca488701947b18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a2a150d746dc19b7351ca488701947b18">Main::legend.Legend::mainwindow</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00473">473</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="dlgaddattributes_8py_source.html#l00168">Tools.dlgaddattributes.DlgAddAttributes::cancel()</a>, <a class="el" href="selectfeatures_8py_source.html#l00057">Tools.selectfeatures.SelectTool::canvasPressEvent()</a>, <a class="el" href="identify_8py_source.html#l00193">Tools.identify.Identify::displayInformation()</a>, <a class="el" href="identify_8py_source.html#l00155">Tools.identify.Identify::getGeometryText()</a>, <a class="el" href="addpoints_8py_source.html#l00103">Tools.addpoints.AddPoints::getNewAttributes()</a>, <a class="el" href="addlinespolygons_8py_source.html#l00145">Tools.addlinespolygons.AddLinesPolygons::getNewAttributes()</a>, <a class="el" href="dlgaddattributes_8py_source.html#l00211">Tools.dlgaddattributes.DlgAddAttributes::getNewAttributes()</a>, <a class="el" href="legend_8py_source.html#l00748">Main.legend.Legend::layerSymbology()</a>, <a class="el" href="dlgaddattributes_8py_source.html#l00175">Tools.dlgaddattributes.DlgAddAttributes::reject()</a>, <a class="el" href="legend_8py_source.html#l00670">Main.legend.Legend::removeCurrentLayer()</a>, <a class="el" href="legend_8py_source.html#l00965">Main.legend.Legend::removeEditLayerFromRegistry()</a>, <a class="el" href="selectfeatures_8py_source.html#l00080">Tools.selectfeatures.SelectTool::selectFeat()</a>, <a class="el" href="legend_8py_source.html#l01013">Main.legend.Legend::setActiveLayerVariables()</a>, and <a class="el" href="identify_8py_source.html#l00123">Tools.identify.Identify::vectorIdentifyTool()</a>.</p>

</div>
</div>
<a class="anchor" id="a6cdc44abfd3a173dc296add0dc089c8c"></a><!-- doxytag: member="Main::legend::Legend::menu" ref="a6cdc44abfd3a173dc296add0dc089c8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_main_1_1legend_1_1_legend.html#a6cdc44abfd3a173dc296add0dc089c8c">Main::legend.Legend::menu</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="legend_8py_source.html#l00514">514</a> of file <a class="el" href="legend_8py_source.html">legend.py</a>.</p>

<p>Referenced by <a class="el" href="legend_8py_source.html#l00514">Main.legend.Legend::showMenu()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/egit_repositories/CAPS-Scenario-Builder/CAPS_Scenario_Builder/src/Main/<a class="el" href="legend_8py_source.html">legend.py</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 12 2012 10:42:23 for Caps Scenario Builder by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
